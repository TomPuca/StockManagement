(this.webpackJsonpstockmanagerment=this.webpackJsonpstockmanagerment||[]).push([[0],{191:function(e,t,c){},192:function(e,t,c){},193:function(e,t,c){},195:function(e,t,c){},198:function(e,t,c){},199:function(e,t,c){},297:function(e,t,c){},306:function(e,t,c){},307:function(e,t,c){},308:function(e,t,c){},309:function(e,t,c){},310:function(e,t,c){},336:function(e,t){},339:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c.n(s),n=c(17),l=c.n(n),i=(c(191),c(192),c(18)),r=(c(193),c(1));const o=Object(s.createContext)(),d=e=>{let{reducer:t,initialState:c,children:a}=e;return Object(r.jsx)(o.Provider,{value:Object(s.useReducer)(t,c),children:a})},j=()=>Object(s.useContext)(o);function m(e){if(e.length>2){let t=(10*parseInt(e)).toLocaleString("en-US",{style:"decimal",currency:"USD"});return t=t.substring(0,t.length-1),t}return e}function h(){let e=new Date;return[e.getDate(),e.getMonth()+1,e.getFullYear()]}function u(e,t){const c=Object(s.useRef)();Object(s.useEffect)((()=>{c.current=e}),[e]),Object(s.useEffect)((()=>{if(null!==t){let e=setInterval((function(){c.current()}),t);return()=>clearInterval(e)}}),[t])}function b(e,t,c){let s=(1e3*parseFloat(t)-1e3*parseFloat(e))*c-(parseFloat(e)+parseFloat(t))*c*2-parseFloat(t)*c;return[s,(s/(10*parseFloat(e)*c)).toFixed(2)+"%"]}function x(e){return parseInt(e).toLocaleString("en-US",{style:"decimal",currency:"USD"})}c(195);var O=c(160),g=c.n(O),v=c(161),p=c.n(v);var y=function(){const e={open:0,series:[],volume:[]},[t,c]=Object(s.useState)({options:{}}),[a,n]=Object(s.useState)(!1);let l,i=new Date,o=i.getFullYear(),d=i.getMonth()+1,j=i.getDate(),m=15,h=i.getFullYear(),b=i.getMonth()+1,x=i.getDate(),O=11,v=0;async function y(t){const s=await fetch("https://bgapidatafeed.vps.com.vn/getchartindexdata/"+t),a=await s.json();if(O=i.getHours(),O>8&&O<=12?(O=i.getHours()+2,v=0):(O=14,v=16),null!=a){a.marketCode;let s=0;a.hasOwnProperty("openIndex")&&(s=a.openIndex);let n=0,i=0;a.data.map(((c,a)=>{if(0===a)n=c.vol;else if(null!==c.time&&"null"!==c.time){let a=c.time.split(":"),l=Date.UTC(o,d,j,a[0],a[1]),r={x:l,y:c.cIndex},m={x:l,y:c.vol-n};if(("13"===a[0]&&"00"===a[1]||"12"===a[0]&&"59"===a[1])&&0===i){let s=Date.UTC(o,d,j,11,31),a=Date.UTC(o,d,j,12,59),n={x:s,y:c.cIndex},l={x:s,y:0},r={x:a,y:c.cIndex},m={x:a,y:0};"10"===t&&(e.series.push(n),e.series.push(r),e.volume.push(l),e.volume.push(m)),i++}c.vol-n>0&&"10"===t&&(0===e.series.length||l-e.series[e.series.length-1].x>=6e4?(e.open=s,e.series.push(r),e.volume.push(m),n=c.vol):(e.series[e.series.length-1]=r,e.volume[e.volume.length-1]=m))}})),function(e,t,s,a,n){l={chart:{renderTo:e,backgroundColor:"#111217",animation:!1,marginLeft:2,marginRight:2,marginBottom:22,marginTop:2,borderRadius:5,height:90,width:250},title:{text:""},xAxis:{type:"datetime",gridLineColor:"#C0C0C0",gridLineWidth:0,labels:{style:{color:"#B6BDCD",fontSize:"10px"}}},yAxis:[{title:{text:""},gridLineColor:"#C0C0C0",gridLineWidth:0,labels:{enabled:!1}},{title:{text:""},opposite:!0,gridLineColor:"#C0C0C0",gridLineWidth:0,labels:{enabled:!1}}],plotOptions:{line:{animation:!1,lineWidth:1.5,marker:{enabled:!1},threshold:a},area:{animation:!1,lineWidth:1,marker:{enabled:!1},shadow:!1,states:{hover:{lineWidth:1}}},series:{connectNulls:!0}},legend:{enabled:!1},credits:{enabled:!1},series:[{type:"line",color:"#d1af54",data:[[Date.UTC(o,d,j,9,m),a],[Date.UTC(h,b,x,O,v),a]],pointInterval:6e5,pointStart:Date.UTC(2021,2,3,9,0),pointEnd:Date.UTC(2021,2,3,14,0),marker:{enabled:!1},dashStyle:"shortdash",enableMouseTracking:!1,dataLabels:[{enabled:!0,style:{color:"#B6BDCD",fontSize:"9px"},x:120},{enabled:!0,style:{color:"#FFF",fontSize:"9px",opacity:.001},x:248}]},{type:"area",name:"Volume",yAxis:1,color:"#67CDF0",pointInterval:6e5,pointStart:Date.UTC(o,d,j,9,m),pointEnd:Date.UTC(h,b,x,O,v),data:n,selected:!0,connectNulls:!1,enableMouseTracking:!1,dataGrouping:{second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"]}},{type:"line",threshold:a,color:S("i"),negativeColor:S("d"),name:"VN-INDEX",pointInterval:6e5,pointStart:Date.UTC(o,d,j,9,m),pointEnd:Date.UTC(h,b,x,O,v),data:s,selected:!0,connectNulls:!0,enableMouseTracking:!1,dataGrouping:{second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"]}}]},c({options:l})}("containerHSX",0,e.series,s,e.volume)}}function S(e){return"d"===e||"txt-red"===e?"red":"i"===e||"txt-lime"===e?"#0f0":"e"===e?"#ffd900":"c"===e||"ceiling"===e?"#ff25ff":"f"===e||"floor"===e?"#1eeeee":"#f0f0f0"}return Object(s.useEffect)((()=>{(async()=>{n(!0),y("10"),n(!1)})()}),[]),u((()=>{y("10")}),6e4),Object(r.jsx)("div",{children:a?Object(r.jsx)("div",{children:"Loading ..."}):Object(r.jsx)(p.a,{highcharts:g.a,options:t.options})})},S=c(122);c(196),c(340);S.a.initializeApp({apiKey:"AIzaSyDl0oKQRCOHexa-EloSX_pJFN-lkSqibtc",authDomain:"stockrealtime-5c049.firebaseapp.com",databaseURL:"https://stockrealtime-5c049.firebaseio.com",projectId:"stockrealtime-5c049",storageBucket:"stockrealtime-5c049.appspot.com",messagingSenderId:"144010414262",appId:"1:144010414262:web:322dbb3aa4889756587e17",measurementId:"G-J2YJH55K7K"});const f=S.a.firestore();let N=(new Date).getFullYear();const M=f.collection("Stocks"+N);var k=f,C=c(167);c(198);var D=Object(s.memo)((e=>{let{stockitem:t}=e;const c=t.length;return Object(r.jsx)(C.a,{height:100,width:130,itemSize:15,itemCount:t.length,children:e=>{let{index:s,style:a}=e;const n=t[c-s-1];return Object(r.jsxs)("div",{className:"B"===n.stockside?"MatchRowBuy MatchRow":"MatchRowSell MatchRow",style:a,children:[Object(r.jsx)("div",{className:"MatchRowTime",children:"null"===n.timematch?"ATC":n.timematch}),Object(r.jsx)("div",{className:"MatchSide",children:"null"===n.stockside?"":n.stockside}),Object(r.jsx)("div",{className:"MatchRowPrice",children:n.pricematch}),Object(r.jsx)("div",{className:"MatchRowVolume",children:(10*n.volumematch).toLocaleString("en-US",{style:"decimal",currency:"USD"})})]})}})})),_=c(29),I=(c(199),c(393)),T=c(399),L=c(89),B=c.n(L),A=c(398),U=c(385),F=c(384),P=c(386),w=c(162);c(296);var H=function(e){const[t,c]=Object(s.useState)({});return Object(s.useEffect)((()=>{c({labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{type:"line",label:e.MainLabel,borderColor:"rgb(54, 162, 235)",borderWidth:1,fill:!1,data:[e.Total,e.Total,e.Total,e.Total,e.Total,e.Total,e.Total,e.Total,e.Total,e.Total,e.Total,e.Total]},{label:e.SubLabel,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)","rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)"],borderWidth:1,data:e.data}]})}),[e]),Object(r.jsx)("div",{children:Object(r.jsx)(w.Bar,{data:t,options:{title:{display:!0,text:e.MainLabel,fontSize:20},legend:{display:!1,position:"right"},scales:{yAxes:[{ticks:{callback:function(e){return"$"+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}]},tooltips:{callbacks:{label:function(e,t){return"$"+Number(e.yLabel).toFixed(0).replace(/./g,(function(e,t,c){return t>0&&"."!==e&&(c.length-t)%3===0?","+e:e}))}}},plugins:{datalabels:{display:!1,color:"red"}}}})})};c(297);var E=function(e){return Object(r.jsxs)("div",{className:"outcomeItemContainer",children:[Object(r.jsxs)("div",{className:"dateContainer",children:[e.OutcomeItem.Day,"/",e.OutcomeItem.Month,"/",e.OutcomeItem.Year]}),Object(r.jsx)("div",{className:"outcomeContainer",children:e.OutcomeItem.Outcome.toLocaleString("en-US",{style:"decimal",currency:"USD"})})]})};var q=function(){const[e,t]=Object(s.useState)("Outcome"),[c,n]=a.a.useState(new Date),[l,o]=Object(s.useState)([]),[d,j]=Object(s.useState)([]),[m,h]=Object(s.useState)(!1);let u=l.reduce((function(e,t){return e+t.Outcome}),0),b=d.reduce((function(e,t){return e+t.Outcome}),0);function O(e){let t=l.reduce((function(t,c){return c.Month===e?t+c.Outcome:t}),0);return parseInt(t)}return Object(s.useEffect)((()=>{let t=new Date,c=t.getFullYear()-1;"Outcome"===e?k.collection("Outcome"+t.getFullYear()).orderBy("Month","asc").orderBy("Day","asc").onSnapshot((e=>{o(e.docs.map((e=>e.data())))})):(k.collection(e).orderBy("Month","asc").orderBy("Day","asc").onSnapshot((e=>{o(e.docs.map((e=>e.data())))})),c=parseInt(e.substr(6,4))-1),k.collection("Outcome"+c).orderBy("Month","asc").orderBy("Day","asc").onSnapshot((e=>{j(e.docs.map((e=>e.data())))}))}),[e]),Object(s.useEffect)((()=>{const e=new Date,c=e.getFullYear()-1;t("Outcome"+e.getFullYear()),k.collection("Outcome"+c).orderBy("Month","asc").orderBy("Day","asc").onSnapshot((e=>{j(e.docs.map((e=>e.data())))}))}),[]),Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{style:{color:"blue",display:"flex",marginLeft:10},children:[Object(r.jsx)(_.b,{to:"/",children:Object(r.jsx)("div",{children:Object(r.jsx)("span",{className:"Header-cartCount",children:"Main"})})}),function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"YearButton",onClick:()=>t("Outcome"+e),children:e})})}("2024")]}),Object(r.jsxs)("div",{style:{color:"blue",display:"flex",width:"700px",fontWeight:"bold",marginLeft:"10px",marginTop:"10px"},children:[Object(r.jsx)("div",{children:"Total Outcome: "}),Object(r.jsxs)("div",{style:{marginLeft:"10px",marginRight:"10px"},children:[x(u)," (",x(u/12),")"]}),Object(r.jsxs)("div",{style:{marginLeft:"10px",marginRight:"10px"},children:["(",x(u-b),")"]})]}),Object(r.jsxs)("div",{className:"input-container",children:[Object(r.jsx)("div",{children:Object(r.jsx)(F.a,{dateAdapter:U.a,children:Object(r.jsx)(A.a,{spacing:3,children:Object(r.jsx)(P.a,{label:"Date Outcome",inputFormat:"MM/dd/yyyy",value:c,onChange:e=>{n(e)},renderInput:e=>Object(r.jsx)(T.a,Object(i.a)({},e))})})})}),Object(r.jsx)(B.a,{id:"OutcomeID",label:"Outcome",customInput:T.a,thousandSeparator:!0,prefix:"",style:{marginTop:10,fontSize:"12px",marginLeft:10},variant:"outlined",size:"small"}),Object(r.jsx)(I.a,{variant:"outlined",style:{marginTop:10,fontSize:"12px",marginLeft:10},size:"small",onClick:t=>{t.preventDefault(),k.collection(e).add({Outcome:parseFloat(document.getElementById("OutcomeID").value.replaceAll(",","")),Day:c.getDate(),Month:c.getMonth()+1,Year:c.getFullYear()}),h(!0)},children:"Add Outcome"})]}),Object(r.jsx)("div",{children:Object(r.jsx)(H,{data:[O(1),O(2),O(3),O(4),O(5),O(6),O(7),O(8),O(9),O(10),O(11),O(12)],Total:u/12,MainLabel:"Total Outcome",SubLabel:"Outcome Per Month"})}),Object(r.jsx)("div",{style:{marginLeft:"10px",marginBottom:"10px"},children:Object(r.jsxs)("div",{className:"Month_all",children:[Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"January :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(1))}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"February :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(2))})]}),Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"March :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(3))}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"April :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(4))})]}),Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"May :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(5))}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"June :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(6))})]}),Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"July :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(7))}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"August :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(8))})]}),Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"September :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(9))}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"October :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(10))})]}),Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"November :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(11))}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"December :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(12))})]})]})}),Object(r.jsx)("div",{className:"anualOutcomeCard",children:(g=l,g&&g.map(((e,t)=>Object(r.jsx)("div",{children:Object(r.jsx)("div",{children:Object(r.jsx)(E,{OutcomeItem:e})})},t))))}),Object(r.jsx)("div",{className:m?"alert alert-success connection-alert connected-alert text-center fadeIn":"fadeOut",children:Object(r.jsx)("strong",{children:"Added!"})})]});var g};var R=function(){const[e,t]=Object(s.useState)("Begin"),[c,a]=Object(s.useState)([]),[n,l]=Object(s.useState)([]),[o,d]=Object(s.useState)([]),[{socket:h},b]=j(),[x,O]=Object(s.useState)(["FRT","CEO","DIG","BID","VCB"]),[g,v]=Object(s.useState)(!1),[p,S]=Object(s.useState)(!1),[f,N]=Object(s.useState)([]),M=Object(s.useRef)(!1),C=Object(s.useRef)(!0),I=Object(s.useRef)(!1);async function T(){try{const e=await fetch("https://bgapidatafeed.vps.com.vn/getlistindexdetail/10"),t=await e.json();if(void 0!==t&&t.length>0){const e=t[0],[c,s,a]=e.ot.split("|"),r=Object(i.a)(Object(i.a)({},n),{},{idx:e.cIndex,idxopen:e.oIndex,idxchg:c,idxpct:s,tval:a,tvol:e.vol,status:e.status});l(r)}}catch(e){console.error("Failed to fetch VN index data:",e)}}async function L(){console.log("Fetching stock data");try{const e=await fetch("https://bgapidatafeed.vps.com.vn/getliststockdata/".concat(x.join(","))),t=await e.json();void 0!==t&&a((()=>t)),v(!0)}catch(e){console.error("Failed to fetch stock data:",e)}}Object(s.useEffect)((()=>{I.current&&(L(),localStorage.setItem("stockid",JSON.stringify(x)),I.current=!1);let e='{"action":"join","list":"'+x.join(",")+'"}';h.emit("regs",e),console.log("CONNECTED"),S(!0);const t=document.querySelector("#connectioncircle");t&&(t.style.backgroundColor="blue");const c=setTimeout((()=>{S(!1)}),3e3);return()=>clearTimeout(c)}),[x]),Object(s.useEffect)((()=>{if(C.current){console.log("First Render");const e=JSON.parse(localStorage.getItem("stockid"));return e&&(O(e),I.current=!0),L(),T(),C.current=!1,M.current=!0,h.on("board",(function(e){var t;M.current&&document.getElementById("MainCheck")&&(t=e.data,document.querySelector("#"+t.sym)&&!0===M.current&&(3210===t.id?"B"===t.side?(B("#"+t.sym+"-g1-vol",m(t.g1.split("|")[1])),B("#"+t.sym+"-g1-price",t.g1.split("|")[0]),w("#"+t.sym+"-g1",P(t.g1.split("|")[0],document.querySelector("#"+t.sym+"-r").innerHTML,document.querySelector("#"+t.sym+"-f").innerHTML,document.querySelector("#"+t.sym+"-c").innerHTML)),B("#"+t.sym+"-g2-vol",m(t.g2.split("|")[1])),B("#"+t.sym+"-g2-price",t.g2.split("|")[0]),w("#"+t.sym+"-g2",P(t.g2.split("|")[0],document.querySelector("#"+t.sym+"-r").innerHTML,document.querySelector("#"+t.sym+"-f").innerHTML,document.querySelector("#"+t.sym+"-c").innerHTML)),B("#"+t.sym+"-g3-vol",m(t.g3.split("|")[1])),B("#"+t.sym+"-g3-price",t.g3.split("|")[0]),w("#"+t.sym+"-g3",P(t.g3.split("|")[0],document.querySelector("#"+t.sym+"-r").innerHTML,document.querySelector("#"+t.sym+"-f").innerHTML,document.querySelector("#"+t.sym+"-c").innerHTML))):(B("#"+t.sym+"-g4-vol",m(t.g1.split("|")[1])),B("#"+t.sym+"-g4-price",t.g1.split("|")[0]),w("#"+t.sym+"-g4",P(t.g1.split("|")[0],document.querySelector("#"+t.sym+"-r").innerHTML,document.querySelector("#"+t.sym+"-f").innerHTML,document.querySelector("#"+t.sym+"-c").innerHTML)),B("#"+t.sym+"-g5-vol",m(t.g2.split("|")[1])),B("#"+t.sym+"-g5-price",t.g2.split("|")[0]),w("#"+t.sym+"-g5",P(t.g2.split("|")[0],document.querySelector("#"+t.sym+"-r").innerHTML,document.querySelector("#"+t.sym+"-f").innerHTML,document.querySelector("#"+t.sym+"-c").innerHTML)),B("#"+t.sym+"-g6-vol",m(t.g3.split("|")[1])),B("#"+t.sym+"-g6-price",t.g3.split("|")[0]),w("#"+t.sym+"-g6",P(t.g3.split("|")[0],document.querySelector("#"+t.sym+"-r").innerHTML,document.querySelector("#"+t.sym+"-f").innerHTML,document.querySelector("#"+t.sym+"-c").innerHTML))):3220===t.id&&A(t)))})),h.on("index",(function(e){})),h.on("stock",(function(e){M.current&&document.getElementById("MainCheck")&&A(e.data)})),h.on("disconnect",(()=>{h.removeAllListeners(),S(!1);const e=document.querySelector("#connectioncircle");e&&(e.style.backgroundColor="gray")})),void k.collection("Stocks").orderBy("IsSold").startAt(!1).endAt(!1).onSnapshot((e=>{N(e.docs.map((e=>e.data())))}))}}),[]),Object(s.useEffect)((()=>{f.forEach((e=>{if(""!==e.MaCK){-1===x.findIndex((t=>t===e.MaCK))?(O((t=>[e.MaCK,...t])),I.current=!0,console.log("Added new stock:",e.MaCK)):console.log("Stock already exists:",e.MaCK)}}))}),[f]),Object(s.useEffect)((()=>{c.forEach((e=>{b({type:"UPDATE_TO_CURRENTSTOCKPRICE",item:{sym:e.sym,lastPrice:e.lastPrice}})}))}),[c,b]),u((()=>{T()}),6e4);const B=(e,t)=>{const c=document.querySelector(e);c&&c.innerHTML!==t&&(H(e),c.innerHTML=t)};async function A(e){let c,s=new Date,a=s.getHours(),n=s.getMinutes(),l=s.getSeconds();e.time&&d((t=>[...t,{stockid:e.sym,stockside:e.side,timematch:e.time.substring(0,5),volumematch:e.lastVol,pricematch:e.lastPrice}])),t("".concat(a,":").concat(n,":").concat(l,": ").concat(JSON.stringify(e))),b({type:"UPDATE_TO_CURRENTSTOCKPRICE",item:{sym:e.sym,lastPrice:e.lastPrice}}),"CEO"===e.sym&&function(e){const t=document.querySelector("#".concat(e.sym,"-lastPrice"));t&&(document.title="".concat(t.innerHTML,"|").concat(document.querySelector("#".concat(e.sym,"-changePc")).innerHTML));const c=document.querySelector("link[rel~='icon']")||document.createElement("link");c.rel="icon",document.head.appendChild(c);const s=parseFloat(document.querySelector("#".concat(e.sym,"-r")).innerHTML),a=parseFloat(e.lastPrice);c.href=a<s?"https://cdn0.iconfinder.com/data/icons/Hand_Drawn_Web_Icon_Set/128/arrow_down.png":a===s?"https://cdn1.iconfinder.com/data/icons/smallicons-controls/32/614357-.svg-1024.png":"https://cdn4.iconfinder.com/data/icons/business-and-finance-colorful-free-hand-drawn-set/100/growth-1024.png"}(e),U("#"+e.sym+"-ot",e.change),U("#"+e.sym+"-lastPrice",e.lastPrice,!0),U("#"+e.sym+"-lastVolume",m(e.lastVol.toString())),U("#"+e.sym+"-changePc",e.changePc+"%"),U("#"+e.sym+"-lot",m(e.totalVol.toString())),c=document.querySelector("#"+e.sym+"-Max"),c&&c.innerHTML!==e.hp&&(c.innerHTML=e.hp,H("#"+e.sym+"-Max"),w("#"+e.sym+"-MaxAll",P(e.hp,document.querySelector("#"+e.sym+"-r").innerHTML,document.querySelector("#"+e.sym+"-f").innerHTML,document.querySelector("#"+e.sym+"-c").innerHTML))),c=document.querySelector("#"+e.sym+"-Min"),c&&c.innerHTML!==e.hp&&(c.innerHTML=e.lp,H("#"+e.sym+"-Min"),w("#"+e.sym+"-MinAll",P(e.lp,document.querySelector("#"+e.sym+"-r").innerHTML,document.querySelector("#"+e.sym+"-f").innerHTML,document.querySelector("#"+e.sym+"-c").innerHTML)))}function U(e,t){let c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=document.querySelector(e);s&&s.innerHTML!==(c?parseFloat(t):t)&&(s.innerHTML=t,H(e))}function F(e,t){return parseFloat(e)===t.f?"txt-gia-san":parseFloat(e)===t.c?"txt-gia-tran":0===parseFloat(e)?"txt-gia-tc":parseFloat(e)<t.r?"txt-gia-thap":parseFloat(e)>t.r?"txt-gia-cao":"txt-gia-tc"}function P(e,t,c,s){return parseFloat(e)===parseFloat(c)?"txt-gia-san":parseFloat(e)===parseFloat(s)?"txt-gia-tran":parseFloat(e)===parseFloat(t)?"txt-gia-tc":parseFloat(e)<parseFloat(t)?"txt-gia-thap":parseFloat(e)>parseFloat(t)?"txt-gia-cao":void 0}function w(e,t){const c=document.querySelector(e);if(c){const e=c.classList.item(1);e!==t&&c.classList.replace(e,t)}}function H(e){const t=document.querySelector(e);t?(t.classList.replace("backgroundwhite","backgroundgray"),setTimeout((()=>{t.classList.replace("backgroundgray","backgroundwhite")}),3e3)):console.error("Element with ID '".concat(e,"' not found."))}return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"VNIndexContain",id:"MainCheck",children:[Object(r.jsx)("div",{children:Object(r.jsx)(y,{})}),Object(r.jsxs)("div",{className:"VNIndexContent",style:{color:n.idx<n.idxopen?"red":n.idx>n.idxopen?"blue":"black"},children:[Object(r.jsxs)("div",{className:"VnIndex",children:[void 0!==n.idx?parseFloat(n.idx).toLocaleString("en-US",{style:"decimal",currency:"USD"}):"0"," "]}),Object(r.jsxs)("div",{className:"VnIndex",children:[void 0!==n.idxchg?n.idxchg:"0","   "]}),Object(r.jsxs)("div",{className:"VnIndex",children:[void 0!==n.idxpct?n.idxpct:"0","   "]}),Object(r.jsxs)("div",{className:"VnIndex",children:[void 0!==n.tval?parseInt(n.tval).toLocaleString("en-US",{style:"decimal",currency:"USD"}):"0"," "]}),Object(r.jsx)("div",{children:Object(r.jsx)("a",{className:"connection-circle notconnected",id:"connectioncircle"})})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:Object(r.jsx)("input",{className:"stockcodeinput",id:"stockcodeinput",onChange:e=>{e.target.value=e.target.value.toUpperCase()}})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"addstocktolist",onClick:async e=>{e.preventDefault();const t=document.getElementById("stockcodeinput").value.trim().toUpperCase();if(t){-1===x.indexOf(t)?(O((e=>[t,...e])),I.current=!0):console.log("".concat(t," is already in the list."))}else console.log("Please enter a valid stock symbol.")},children:"Add Stock"})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"addstocktolist",onClick:e=>{e.preventDefault();const t=document.getElementById("stockcodeinput").value.trim().toUpperCase();if(t){const e=x.indexOf(t);if(-1!==e){const t=x.filter(((t,c)=>c!==e));O(t),I.current=!0}else console.log("".concat(t," is not found in the list."))}else console.log("Please enter a valid stock symbol.")},children:"Del Stock"})})]})]}),Object(r.jsxs)("div",{style:{display:"flex",marginLeft:10,marginBottom:5},children:[Object(r.jsx)(_.b,{to:"/HistoryTransactions",children:Object(r.jsx)("div",{style:{marginTop:10,marginRight:20},children:Object(r.jsx)("span",{className:"Header-cartCount",children:"Chart"})})}),Object(r.jsx)(_.b,{to:"/AnnualIncome",children:Object(r.jsx)("div",{style:{marginTop:10,marginRight:20},children:Object(r.jsx)("span",{className:"Header-cartCount",children:"Annual Income"})})}),Object(r.jsx)(_.b,{to:"/AnnuallOutcome",children:Object(r.jsx)("div",{style:{marginTop:10,marginRight:20},children:Object(r.jsx)("span",{className:"Header-cartCount",children:"Annual Outcome"})})}),Object(r.jsx)(_.b,{to:"/Version",children:Object(r.jsx)("div",{style:{marginTop:10},children:Object(r.jsx)("span",{className:"Header-cartCount",children:"Ver"})})})]}),Object(r.jsx)("div",{className:"realtime",children:(E=c,E&&E.map(((e,t)=>Object(r.jsxs)("div",{className:"stockCard",children:[Object(r.jsxs)("div",{className:"stockCard__Header "+F(e.lastPrice,e),id:e.sym,children:[Object(r.jsx)("div",{children:e.sym}),Object(r.jsx)("div",{className:"backgroundwhite",id:e.sym+"-ot",children:e.ot}),Object(r.jsx)("div",{className:"backgroundwhite",id:e.sym+"-lastPrice",children:e.lastPrice}),Object(r.jsx)("div",{className:"backgroundwhite",id:e.sym+"-lastVolume",children:m(e.lastVolume.toString())}),Object(r.jsxs)("div",{className:"backgroundwhite",id:e.sym+"-changePc",children:[e.changePc,"%"]}),Object(r.jsx)("div",{className:"backgroundwhite",id:e.sym+"-lot",children:m(e.lot.toString())}),Object(r.jsxs)("div",{className:"fadeOut",id:e.sym+"-r",children:[e.r," "]}),Object(r.jsxs)("div",{className:"fadeOut",id:e.sym+"-f",children:[e.f," "]}),Object(r.jsxs)("div",{className:"fadeOut",id:e.sym+"-c",children:[e.c," "]})]}),Object(r.jsxs)("div",{className:"stockCard__Buy",children:[Object(r.jsxs)("div",{className:"BuyAmount",children:[Object(r.jsx)("div",{children:"Volume"})," ",Object(r.jsx)("div",{children:"Bid"})]}),Object(r.jsxs)("div",{className:"BuyAmount "+F(e.g1.split("|")[0],e),id:e.sym+"-g1",children:[Object(r.jsx)("div",{className:"backgroundwhite",id:e.sym+"-g1-vol",children:m(e.g1.split("|")[1])}),Object(r.jsx)("div",{className:"backgroundwhite",id:e.sym+"-g1-price",children:e.g1.split("|")[0]})]}),Object(r.jsxs)("div",{className:"BuyAmount "+F(e.g2.split("|")[0],e),id:e.sym+"-g2",children:[Object(r.jsx)("div",{className:"backgroundwhite ",id:e.sym+"-g2-vol",children:m(e.g2.split("|")[1])}),Object(r.jsx)("div",{className:"backgroundwhite ",id:e.sym+"-g2-price",children:e.g2.split("|")[0]})]}),Object(r.jsxs)("div",{className:"BuyAmount "+F(e.g3.split("|")[0],e),id:e.sym+"-g3",children:[Object(r.jsx)("div",{className:"backgroundwhite ",id:e.sym+"-g3-vol",children:m(e.g3.split("|")[1])}),Object(r.jsx)("div",{className:"backgroundwhite ",id:e.sym+"-g3-price",children:e.g3.split("|")[0]})]}),Object(r.jsxs)("div",{className:"BuyAmount "+F(e.lowPrice,e)+" backgroundwhite",id:e.sym+"-MinAll",style:{borderTopWidth:1,borderTopColor:"#A9A9A9",borderTopStyle:"solid"},children:[Object(r.jsx)("div",{children:"Min"})," ",Object(r.jsx)("div",{id:e.sym+"-Min",children:e.lowPrice})]})]}),Object(r.jsxs)("div",{className:"stockCard__Sell",children:[Object(r.jsxs)("div",{className:"BuyAmount",children:[Object(r.jsx)("div",{children:"Volume"})," ",Object(r.jsx)("div",{children:"Ask"})]}),Object(r.jsxs)("div",{className:"SellAmount "+F(e.g4.split("|")[0],e),id:e.sym+"-g4",children:[Object(r.jsx)("div",{className:"backgroundwhite ",id:e.sym+"-g4-vol",children:m(e.g4.split("|")[1])}),Object(r.jsx)("div",{className:"backgroundwhite ",id:e.sym+"-g4-price",children:e.g4.split("|")[0]})]}),Object(r.jsxs)("div",{className:"SellAmount "+F(e.g5.split("|")[0],e),id:e.sym+"-g5",children:[Object(r.jsx)("div",{className:"backgroundwhite",id:e.sym+"-g5-vol",children:m(e.g5.split("|")[1])}),Object(r.jsx)("div",{className:"backgroundwhite",id:e.sym+"-g5-price",children:e.g5.split("|")[0]})]}),Object(r.jsxs)("div",{className:"SellAmount "+F(e.g6.split("|")[0],e),id:e.sym+"-g6",children:[Object(r.jsx)("div",{className:"backgroundwhite ",id:e.sym+"-g6-vol",children:m(e.g6.split("|")[1])}),Object(r.jsx)("div",{className:"backgroundwhite ",id:e.sym+"-g6-price",children:e.g6.split("|")[0]})]}),Object(r.jsxs)("div",{className:"BuyAmount "+F(e.highPrice,e)+" backgroundwhite",id:e.sym+"-MaxAll",style:{borderTopWidth:1,borderTopColor:"#A9A9A9",borderTopStyle:"solid"},children:[Object(r.jsx)("div",{children:"Max"})," ",Object(r.jsx)("div",{id:e.sym+"-Max",children:e.highPrice})]})]}),Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"stockCard__Match",children:[Object(r.jsx)("div",{children:"Match"}),Object(r.jsx)("div",{className:"no-scrollbars",children:Object(r.jsx)(D,{stockitem:o.filter((t=>t.stockid===e.sym))})})]})})]},t))))}),Object(r.jsx)("div",{className:"jsonValue",children:e}),Object(r.jsx)("div",{className:p?"alert alert-success connection-alert connected-alert text-center fadeIn":"fadeOut",children:Object(r.jsx)("strong",{children:"Connected!"})}),Object(r.jsx)("div",{children:x.join(",")})]});var E},Y=c(23),z=(c(306),c(402)),K=c(397),V=c(403),J=c(396),G=c(395),W=c(394);function X(e){const[t,c]=a.a.useState(!1);function s(e,t,c,s,a){let n=M.doc(e);n.get().then((function(e){e.exists?n.update({SoldPrice:t,DaySold:h()[0],MonthSold:h()[1],YearSold:h()[2],IsSold:!0,Gain:c,Amount:a,Percent:s}):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))}const n=()=>{c(!1);let t=parseFloat(document.getElementById("StockID").value),a=parseFloat(document.getElementById("StockAmountID").value);if(console.log(a),!isNaN(t)){if(a===parseFloat(e.stockitem.Amount)){console.log(a+";"+e.stockitem.Amount),M.where("MaCK","==",e.stockitem.MaCK).where("IsSold","==",!1).where("Amount","==",e.stockitem.Amount).where("BoughtPrice","==",e.stockitem.BoughtPrice).onSnapshot((c=>{c.docs.map((c=>{s(c.id,t,b(e.stockitem.BoughtPrice,t,a)[0],b(e.stockitem.BoughtPrice,t,a)[1],a)}))}))}if(a<parseFloat(e.stockitem.Amount)){console.log(a+";"+e.stockitem.Amount),M.where("MaCK","==",e.stockitem.MaCK).where("IsSold","==",!1).where("Amount","==",e.stockitem.Amount).where("BoughtPrice","==",e.stockitem.BoughtPrice).onSnapshot((c=>{c.docs.map((c=>{s(c.id,t,b(e.stockitem.BoughtPrice,t,a)[0],b(e.stockitem.BoughtPrice,t,a)[1],a)}))}));let c=(new Date).getFullYear();k.collection("Stocks"+c).add({MaCK:e.stockitem.MaCK,SoldPrice:0,BoughtPrice:e.stockitem.BoughtPrice,IsSold:!1,Amount:parseFloat(e.stockitem.Amount)-a,Gain:0,Percent:0,DayBought:e.stockitem.DayBought,MonthBought:e.stockitem.MonthBought,YearBought:e.stockitem.YearBought,DaySold:0,MonthSold:0,YearSold:0})}a>parseFloat(e.stockitem.Amount)&&(console.log(a+";"+e.stockitem.Amount),console.log("Kh\u1ed1i l\u01b0\u1ee3ng b\xe1n nhi\u1ec1u h\u01a1n mua !!! Ki\u1ec3m tra l\u1ea1i !!!"))}};return Object(r.jsxs)("div",{children:[Object(r.jsx)(I.a,{variant:"outlined",style:{fontSize:"12px"},size:"small",onClick:()=>{c(!0)},children:" Sell  "}),Object(r.jsxs)(V.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",disableBackdropClick:!0,children:[Object(r.jsxs)(W.a,{id:"form-dialog-title",children:["Sell ",e.stockitem.MaCK]}),Object(r.jsxs)(G.a,{children:[Object(r.jsx)(T.a,{id:"StockID",autoFocus:!0,margin:"dense",label:"Sell Price",type:"email",fullWidth:!0}),Object(r.jsx)(T.a,{id:"StockAmountID",margin:"dense",label:"Volume",defaultValue:e.stockitem.Amount,fullWidth:!0})]}),Object(r.jsxs)(J.a,{children:[Object(r.jsx)(I.a,{onClick:()=>{c(!1)},color:"primary",children:" Cancel  "}),Object(r.jsx)(I.a,{onClick:n,color:"primary",children:" Submit "})]})]})]})}var $=c(9),Q=c(401);var Z=function(){const[e,t]=Object(s.useState)([]),[c,a]=Object(s.useState)([]),[n,l]=Object(s.useState)([]),[o,d]=Object(s.useState)(!1),[{currentstockprice:m}]=j(),[u,b]=Object(s.useState)("0"),[x,O]=Object(s.useState)({buytemp:0,soldtemp:0}),g=Object($.a)((e=>({tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:e.shadows[1],fontSize:11}})))(Q.a);Object(s.useEffect)((()=>{b(f(x.buytemp,x.soldtemp,1)[1].toLocaleString("en-US",{style:"decimal",currency:"USD"}))}),[x]),Object(s.useEffect)((()=>{(async()=>{let e=(new Date).getFullYear();k.collection("Stocks"+e).orderBy("MonthSold","desc").orderBy("DaySold","desc").onSnapshot((e=>{t(e.docs.map((e=>e.data())))}))})()}),[]),Object(s.useEffect)((()=>{const t=e.filter((e=>!e.IsSold));a(t.sort(((e,t)=>e.MaCK.localeCompare(t.MaCK)))),l(e.filter((e=>e.IsSold)))}),[e]);const v=n.reduce(((e,t)=>e+t.Gain),0),p=n.reduce(((e,t)=>e+t.BoughtPrice*t.Amount*1e3),0),y=c.reduce(((e,t)=>e+t.BoughtPrice*t.Amount*1e3),0);var S=c.reduce((function(e,t){var c;return e+f(t.BoughtPrice,null===(c=m[m.findIndex((e=>e.sym===t.MaCK))])||void 0===c?void 0:c.lastPrice,t.Amount)[0]}),0);function f(e,t,c){let s=(1e3*parseFloat(t)-1e3*parseFloat(e))*c-(parseFloat(e)+parseFloat(t))*c*2-parseFloat(t)*c,a=(s/(10*parseFloat(e)*c)).toFixed(2)+"%";return[s,"NaN%"===a?"0%":a]}const N=(e,t)=>e&&e.map(((e,c)=>{var s;const a=(null===(s=m.find((t=>t.sym===e.MaCK)))||void 0===s?void 0:s.lastPrice)||0,n=f(e.BoughtPrice,a,e.Amount);return Object(r.jsxs)("div",{className:"stocks",children:[Object(r.jsx)("div",{children:Object(r.jsx)(g,{title:t?"".concat(e.DayBought,"/").concat(e.MonthBought):"".concat(e.DaySold,"/").concat(e.MonthSold),children:Object(r.jsx)("div",{className:"mack",children:e.MaCK})})}),Object(r.jsx)("div",{className:"buyprice",children:e.BoughtPrice}),Object(r.jsx)("div",{className:"sell",children:e.IsSold?e.SoldPrice:a}),Object(r.jsx)("div",{className:"Amount",children:e.Amount.toLocaleString("en-US",{style:"decimal",currency:"USD"})}),Object(r.jsx)("div",{className:"lailo",children:e.IsSold?e.Gain.toLocaleString("en-US",{style:"decimal",currency:"USD"}):n[0].toLocaleString("en-US",{style:"decimal",currency:"USD"})}),Object(r.jsx)("div",{className:"tyle",children:e.IsSold?e.Percent.toLocaleString("en-US",{style:"decimal",currency:"USD"}):n[1]}),e.IsSold?Object(r.jsxs)("div",{className:"datesold",style:{textAlign:"right !importance"},children:[e.DaySold,"/",e.MonthSold]}):Object(r.jsx)("div",{className:"sellbutton",children:Object(r.jsx)(X,{stockitem:e})})]},c)}));return Object(r.jsxs)("div",{className:"buysell",children:[Object(r.jsx)("div",{className:"addstockform",children:Object(r.jsxs)("form",{children:[Object(r.jsxs)("div",{className:"stockadd",children:[Object(r.jsx)("div",{children:Object(r.jsx)(T.a,{id:"StockCodeID",label:"Stock Code",style:{marginTop:5},placeholder:"0",variant:"outlined",size:"small",onChange:e=>e.target.value=e.target.value.toUpperCase()})}),Object(r.jsx)("div",{children:Object(r.jsx)(T.a,{id:"StockAmount",label:"Volume",style:{marginTop:5},placeholder:"0",variant:"outlined",size:"small"})}),Object(r.jsx)("div",{children:Object(r.jsx)(T.a,{id:"BuyPrice",label:"Purchase Price",style:{marginTop:5},placeholder:"0",size:"small",variant:"outlined"})})]}),Object(r.jsx)(I.a,{variant:"outlined",style:{marginTop:5,fontSize:"12px"},size:"small",onClick:e=>{e.preventDefault();let t=(new Date).getFullYear();k.collection("Stocks"+t).add({MaCK:document.getElementById("StockCodeID").value.toUpperCase(),SoldPrice:0,BoughtPrice:parseFloat(document.getElementById("BuyPrice").value),IsSold:!1,Amount:parseInt(document.getElementById("StockAmount").value),Gain:0,Percent:0,DayBought:h()[0],MonthBought:h()[1],YearBought:h()[2],DaySold:0,MonthSold:0,YearSold:0})},children:"Add Stock"})]})}),Object(r.jsxs)("div",{className:"buysell__title",children:[Object(r.jsx)("h2",{children:"Purchased Stocks"}),N(c,!0)]}),Object(r.jsxs)("div",{className:"total",children:[Object(r.jsx)("div",{className:"totalitemleft",children:S.toLocaleString("en-US",{style:"decimal",currency:"USD"})}),Object(r.jsx)("div",{className:"totalitemright",children:y.toLocaleString("en-US",{style:"decimal",currency:"USD"})}),Object(r.jsx)("div",{className:"totalpercent",children:(100*S/y).toFixed(2)+"%"})]}),Object(r.jsxs)("div",{className:"buysell__title",children:[Object(r.jsxs)("div",{className:"showbought",children:[Object(r.jsx)("h2",{children:"Sold Stocks"}),Object(r.jsx)("div",{className:"showlable",children:Object(r.jsx)(K.a,{control:Object(r.jsx)(z.a,{checked:o,onChange:function(){d(!o)},inputProps:{"aria-label":"secondary checkbox"},color:"primary"})})})]}),o&&N(n,!1),Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsx)("div",{className:"totalitemleft",children:v.toLocaleString("en-US",{style:"decimal",currency:"USD"})}),Object(r.jsx)("div",{className:"totalitemright",children:p.toLocaleString("en-US",{style:"decimal",currency:"USD"})}),Object(r.jsx)("div",{className:"totalpercent",children:(100*v/p).toFixed(2)+"%"})]}),Object(r.jsxs)("div",{style:{marginTop:10},children:[Object(r.jsx)(T.a,{id:"BuyPriceTemp",label:"Purchase Price",style:{marginTop:5,width:130},placeholder:"0",size:"small",variant:"outlined",onChange:e=>O(Object(i.a)(Object(i.a)({},x),{},{buytemp:parseFloat(e.target.value)}))}),Object(r.jsx)(T.a,{id:"SoldPriceTemp",label:"Sale Price",style:{marginTop:5,width:130},placeholder:"0",size:"small",variant:"outlined",onChange:e=>O(Object(i.a)(Object(i.a)({},x),{},{soldtemp:parseFloat(e.target.value)}))}),Object(r.jsx)(T.a,{disabled:!0,id:"RatioTemp",label:"",style:{marginTop:5,width:90},placeholder:u,size:"small",variant:"outlined",onChange:e=>{}})]})]})]})};c(307),c(308);var ee=function(e){return Object(r.jsxs)("div",{className:"item_border",children:[Object(r.jsxs)("div",{className:"date_frame",children:[Object(r.jsx)("div",{className:"date_frame_day",children:e.stockitem.DaySold}),Object(r.jsx)("div",{className:"date_frame_month",children:e.stockitem.MonthSold}),Object(r.jsx)("div",{className:"date_frame_year",children:e.stockitem.YearSold})]}),Object(r.jsxs)("div",{className:"common_frame",children:[Object(r.jsx)("div",{className:"common_frame_name",children:"Symbol"}),Object(r.jsx)("div",{className:"common_frame_value",children:e.stockitem.MaCK})]}),Object(r.jsxs)("div",{className:"common_frame_Gain",children:[Object(r.jsx)("div",{children:"Gain"}),Object(r.jsx)("div",{className:"common_frame_value",children:e.stockitem.Amount.toLocaleString("en-US",{style:"decimal",currency:"USD"})})]}),Object(r.jsxs)("div",{className:"common_frame",children:[Object(r.jsx)("div",{children:"Bought Price"}),Object(r.jsx)("div",{className:"common_frame_value",children:e.stockitem.BoughtPrice})]}),Object(r.jsxs)("div",{className:"common_frame",children:[Object(r.jsx)("div",{children:"Sold Price"}),Object(r.jsx)("div",{className:"common_frame_value",children:e.stockitem.SoldPrice})]}),Object(r.jsxs)("div",{className:"common_frame_gain",children:[Object(r.jsx)("div",{children:"Gain"}),Object(r.jsx)("div",{className:"common_frame_value",children:0===e.stockitem.SoldPrice?0:e.stockitem.Gain.toLocaleString("en-US",{style:"decimal",currency:"USD"})})]}),Object(r.jsxs)("div",{className:"common_frame_end",children:[Object(r.jsx)("div",{children:"Gain %"}),Object(r.jsxs)("div",{className:"common_frame_value",children:[0===e.stockitem.SoldPrice?0:e.stockitem.Percent.toLocaleString("en-US",{style:"decimal",currency:"USD"}),"%"]})]})]})};var te=function(){const[e,t]=Object(s.useState)([]),[c,a]=Object(s.useState)("Stocks");function n(t){let c=e.reduce((function(e,c){return c.MonthSold===t&c.SoldPrice>0?e+c.Gain:e}),0);return parseInt(c)}Object(s.useEffect)((()=>{console.log(c);let e=(new Date).getFullYear();"Stocks"===c?k.collection("Stocks"+e).orderBy("MonthSold","desc").orderBy("DaySold","desc").onSnapshot((e=>{t(e.docs.map((e=>e.data())))})):k.collection(c).orderBy("MonthSold","desc").orderBy("DaySold","desc").onSnapshot((e=>{t(e.docs.map((e=>e.data())))}))}),[c]);let l=e.reduce((function(e,t){return t.SoldPrice>0?e+t.Gain:e}),0),i=e.reduce((function(e,t){return e+t.BoughtPrice*t.Amount*1e3}),0);function o(e){return Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"YearButton",onClick:()=>a("Stocks"+e),children:e})})}return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{style:{color:"blue",display:"flex"},children:[Object(r.jsx)(_.b,{to:"/",children:Object(r.jsx)("div",{children:Object(r.jsx)("span",{className:"Header-cartCount",children:"Main"})})}),o("2024"),o("2023"),o("2022"),o("2021")]}),Object(r.jsxs)("div",{style:{color:"blue",display:"flex",width:"700px"},children:[Object(r.jsx)("div",{className:"Transactions",children:"Profit: "}),Object(r.jsx)("div",{style:{marginLeft:"10px",marginRight:"10px"},children:l.toLocaleString("en-US",{style:"decimal",currency:"USD"})}),Object(r.jsx)("div",{style:{marginLeft:"10px",marginRight:"10px"},children:i.toLocaleString("en-US",{style:"decimal",currency:"USD"})}),Object(r.jsx)("div",{style:{marginLeft:"10px",marginRight:"10px"},children:(100*l/i).toFixed(2)+"%"})]}),Object(r.jsx)("div",{children:Object(r.jsx)(H,{data:[n(1),n(2),n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10),n(11),n(12)],Total:l,MainLabel:"Gain",SubLabel:"Gain Per Month"})}),Object(r.jsxs)("div",{className:"Month_all",children:[Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"January :"}),Object(r.jsx)("div",{className:"Month_value",children:n(1).toLocaleString("en-US",{style:"decimal",currency:"USD"})}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"February :"}),Object(r.jsx)("div",{className:"Month_value",children:n(2).toLocaleString("en-US",{style:"decimal",currency:"USD"})})]}),Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"March :"}),Object(r.jsx)("div",{className:"Month_value",children:n(3).toLocaleString("en-US",{style:"decimal",currency:"USD"})}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"April :"}),Object(r.jsx)("div",{className:"Month_value",children:n(4).toLocaleString("en-US",{style:"decimal",currency:"USD"})})]}),Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"May :"}),Object(r.jsx)("div",{className:"Month_value",children:n(5).toLocaleString("en-US",{style:"decimal",currency:"USD"})}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"June :"}),Object(r.jsx)("div",{className:"Month_value",children:n(6).toLocaleString("en-US",{style:"decimal",currency:"USD"})})]}),Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"July :"}),Object(r.jsx)("div",{className:"Month_value",children:n(7).toLocaleString("en-US",{style:"decimal",currency:"USD"})}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"August :"}),Object(r.jsx)("div",{className:"Month_value",children:n(8).toLocaleString("en-US",{style:"decimal",currency:"USD"})})]}),Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"September :"}),Object(r.jsx)("div",{className:"Month_value",children:n(9).toLocaleString("en-US",{style:"decimal",currency:"USD"})}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"October :"}),Object(r.jsx)("div",{className:"Month_value",children:n(10).toLocaleString("en-US",{style:"decimal",currency:"USD"})})]}),Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"November :"}),Object(r.jsx)("div",{className:"Month_value",children:n(11).toLocaleString("en-US",{style:"decimal",currency:"USD"})}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"December :"}),Object(r.jsx)("div",{className:"Month_value",children:n(12).toLocaleString("en-US",{style:"decimal",currency:"USD"})})]})]}),(d=e,d&&d.map(((e,t)=>Object(r.jsx)("div",{children:Object(r.jsx)(ee,{stockitem:e})},t))))]});var d};var ce=function(){const[{Stocklist:e},t]=j();return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:[" ",e.join(",")]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(T.a,{id:"StockCodeIDtoList",label:"Stock Code",style:{marginTop:5},placeholder:"0",variant:"outlined",size:"small",onChange:e=>{e.target.value=e.target.value.toUpperCase()}}),Object(r.jsx)(I.a,{variant:"outlined",style:{marginTop:8,marginLeft:8,fontSize:"12px"},size:"medium",onClick:e=>{e.preventDefault(),t({type:"ADD_STOCK_TO_LIST",item:document.getElementById("StockCodeIDtoList").value.toUpperCase()})},children:"Add"}),Object(r.jsx)(I.a,{variant:"outlined",style:{marginTop:8,marginLeft:8,fontSize:"12px"},size:"medium",onClick:e=>{t({type:"DEL_STOCK_TO_LIST",item:document.getElementById("StockCodeIDtoList").value.toUpperCase()})},children:"Delete"})]})]})};c(309),c(310);var se=function(e){return Object(r.jsxs)("div",{className:"incomeItemContainer",children:[Object(r.jsxs)("div",{className:"dateContainer",children:[e.IncomeItem.Day,"/",e.IncomeItem.Month,"/",e.IncomeItem.Year]}),Object(r.jsx)("div",{className:"incomeContainer",children:e.IncomeItem.Income.toLocaleString("en-US",{style:"decimal",currency:"USD"})})]})};var ae=function(){const[e,t]=Object(s.useState)("Income"),[c,n]=a.a.useState(new Date),[l,o]=Object(s.useState)([]),[d,j]=Object(s.useState)([]),[m,h]=Object(s.useState)(!1);let u=l.reduce((function(e,t){return e+t.Income}),0),b=d.reduce((function(e,t){return e+t.Income}),0);function O(e){let t=l.reduce((function(t,c){return c.Month===e?t+c.Income:t}),0);return parseInt(t)}function g(e){return Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"YearButton",onClick:()=>t("Income"+e),children:e})})}return Object(s.useEffect)((()=>{let t=new Date,c=t.getFullYear()-1;"Income"===e?k.collection("Income"+t.getFullYear()).orderBy("Month","asc").orderBy("Day","asc").onSnapshot((e=>{o(e.docs.map((e=>e.data())))})):(k.collection(e).orderBy("Month","asc").orderBy("Day","asc").onSnapshot((e=>{o(e.docs.map((e=>e.data())))})),c=parseInt(e.substr(6,4))-1),k.collection("Income"+c).orderBy("Month","asc").orderBy("Day","asc").onSnapshot((e=>{j(e.docs.map((e=>e.data())))}))}),[e]),Object(s.useEffect)((()=>{const e=new Date,c=e.getFullYear()-1;t("Income"+e.getFullYear()),k.collection("Income"+c).orderBy("Month","asc").orderBy("Day","asc").onSnapshot((e=>{j(e.docs.map((e=>e.data())))}))}),[]),Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{style:{color:"blue",display:"flex",marginLeft:10},children:[Object(r.jsx)(_.b,{to:"/",children:Object(r.jsx)("div",{children:Object(r.jsx)("span",{className:"Header-cartCount",children:"Main"})})}),g("2024"),g("2023"),g("2022")]}),Object(r.jsxs)("div",{style:{color:"blue",display:"flex",width:"700px",fontWeight:"bold",marginLeft:"10px",marginTop:"10px"},children:[Object(r.jsx)("div",{children:"Total Income: "}),Object(r.jsxs)("div",{style:{marginLeft:"10px",marginRight:"10px"},children:[x(u)," (",x(u/12),")"]}),Object(r.jsxs)("div",{style:{marginLeft:"10px",marginRight:"10px"},children:["(",x(u-b),")"]})]}),Object(r.jsxs)("div",{className:"input-container",children:[Object(r.jsx)("div",{children:Object(r.jsx)(F.a,{dateAdapter:U.a,children:Object(r.jsx)(A.a,{spacing:3,children:Object(r.jsx)(P.a,{label:"Date Income",inputFormat:"MM/dd/yyyy",value:c,onChange:e=>{n(e)},renderInput:e=>Object(r.jsx)(T.a,Object(i.a)({},e))})})})}),Object(r.jsx)(B.a,{id:"IncomeID",label:"Income",customInput:T.a,thousandSeparator:!0,prefix:"",style:{marginTop:10,fontSize:"12px",marginLeft:10},variant:"outlined",size:"small"}),Object(r.jsx)(I.a,{variant:"outlined",style:{marginTop:10,fontSize:"12px",marginLeft:10},size:"small",onClick:t=>{t.preventDefault(),k.collection(e).add({Income:parseFloat(document.getElementById("IncomeID").value.replaceAll(",","")),Day:c.getDate(),Month:c.getMonth()+1,Year:c.getFullYear()}),h(!0)},children:"Add Income"})]}),Object(r.jsx)("div",{children:Object(r.jsx)(H,{data:[O(1),O(2),O(3),O(4),O(5),O(6),O(7),O(8),O(9),O(10),O(11),O(12)],Total:u/12,MainLabel:"Total Income",SubLabel:"Income Per Month"})}),Object(r.jsx)("div",{style:{marginLeft:"10px",marginBottom:"10px"},children:Object(r.jsxs)("div",{className:"Month_all",children:[Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"January :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(1))}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"February :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(2))})]}),Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"March :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(3))}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"April :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(4))})]}),Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"May :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(5))}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"June :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(6))})]}),Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"July :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(7))}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"August :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(8))})]}),Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"September :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(9))}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"October :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(10))})]}),Object(r.jsxs)("div",{className:"Month",children:[Object(r.jsx)("div",{className:"Month_text",children:"November :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(11))}),Object(r.jsx)("span",{className:"tab",children:" "}),Object(r.jsx)("div",{className:"Month_text",children:"December :"}),Object(r.jsx)("div",{className:"Month_value",children:x(O(12))})]})]})}),Object(r.jsx)("div",{className:"anualIncomeCard",children:(v=l,v&&v.map(((e,t)=>Object(r.jsx)("div",{children:Object(r.jsx)("div",{children:Object(r.jsx)(se,{IncomeItem:e})})},t))))}),Object(r.jsx)("div",{className:m?"alert alert-success connection-alert connected-alert text-center fadeIn":"fadeOut",children:Object(r.jsx)("strong",{children:"Added!"})})]});var v};var ne=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)(_.b,{to:"/",children:Object(r.jsx)("div",{children:Object(r.jsx)("span",{className:"Header-cartCount",children:"Main"})})}),Object(r.jsx)("div",{style:{color:"blue",display:"flex",marginLeft:10},children:Object(r.jsx)("h1",{children:" Version: 1.0.2"})}),Object(r.jsx)("div",{style:{display:"flex",marginLeft:10},children:Object(r.jsx)("h2",{children:"Date Change: 04/03/2024"})}),Object(r.jsx)("div",{style:{display:"flex",marginLeft:10},children:"Change log: Fix Chart Stocks."}),Object(r.jsx)("div",{style:{color:"blue",display:"flex",marginLeft:10},children:Object(r.jsx)("h1",{children:" Version: 1.0.1"})}),Object(r.jsx)("div",{style:{display:"flex",marginLeft:10},children:Object(r.jsx)("h2",{children:"Date Change: 28/02/2024"})}),Object(r.jsx)("div",{style:{display:"flex",marginLeft:10},children:"Change log: Fix Sell Stocks."}),Object(r.jsx)("div",{style:{color:"blue",display:"flex",marginLeft:10},children:Object(r.jsx)("h1",{children:" Version: 1.0.2"})}),Object(r.jsx)("div",{style:{display:"flex",marginLeft:10},children:Object(r.jsx)("h2",{children:"Date Change: 14/06/2024"})}),Object(r.jsx)("div",{style:{display:"flex",marginLeft:10},children:"Change log: Code standardization using ChatGPT !!!"}),Object(r.jsx)("div",{style:{color:"blue",display:"flex",marginLeft:10},children:Object(r.jsx)("h1",{children:" Version: 1.0.3"})}),Object(r.jsx)("div",{style:{display:"flex",marginLeft:10},children:Object(r.jsx)("h2",{children:"Date Change: 18/12/2024"})}),Object(r.jsx)("div",{style:{display:"flex",marginLeft:10},children:"Change log: Add Outcome Function !!!"})]})};var le=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(_.a,{children:Object(r.jsx)("div",{className:"app",children:Object(r.jsxs)(Y.c,{children:[Object(r.jsx)(Y.a,{path:"/StockManager",children:Object(r.jsx)(R,{})}),Object(r.jsx)(Y.a,{path:"/VnIndexChart",children:Object(r.jsx)(y,{})}),Object(r.jsx)(Y.a,{path:"/HistoryTransactions",children:Object(r.jsx)(te,{})}),Object(r.jsx)(Y.a,{path:"/CodeView",children:Object(r.jsx)(ce,{})}),Object(r.jsx)(Y.a,{path:"/AnnualIncome",children:Object(r.jsx)(ae,{})}),Object(r.jsx)(Y.a,{path:"/AnnuallOutcome",children:Object(r.jsx)(q,{})}),Object(r.jsx)(Y.a,{path:"/Version",children:Object(r.jsx)(ne,{})}),Object(r.jsxs)(Y.a,{path:"/",children:[Object(r.jsx)(R,{}),Object(r.jsx)(Z,{})]})]})})})})};var ie=e=>{e&&e instanceof Function&&c.e(3).then(c.bind(null,404)).then((t=>{let{getCLS:c,getFID:s,getFCP:a,getLCP:n,getTTFB:l}=t;c(e),s(e),a(e),n(e),l(e)}))},re=c(166);const oe={basket:["hungtd","tdhung"],user:null,currentstockprice:[],socket:c.n(re)()("https://bgdatafeed.vps.com.vn/")};var de=(e,t)=>{let c;switch(t.type){case"ADD_STOCK_TO_LIST":return c=e.Stocklist.findIndex((e=>e===t.item)),c>=0?Object(i.a)(Object(i.a)({},e),{},{Stocklist:[...e.Stocklist]}):Object(i.a)(Object(i.a)({},e),{},{Stocklist:[...e.Stocklist,t.item]});case"DEL_STOCK_TO_LIST":let s=[...e.Stocklist];return c=s.indexOf(t.item),-1===c?Object(i.a)(Object(i.a)({},e),{},{Stocklist:[...e.Stocklist]}):(s.splice(c,1),Object(i.a)(Object(i.a)({},e),{},{Stocklist:s}));case"UPDATE_TO_CURRENTSTOCKPRICE":c=e.currentstockprice.findIndex((e=>e.sym===t.item.sym));let a=[...e.currentstockprice];return c>=0?a[c].lastPrice=t.item.lastPrice:a=[...e.currentstockprice,t.item],Object(i.a)(Object(i.a)({},e),{},{currentstockprice:a});default:return e}};l.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(d,{initialState:oe,reducer:de,children:Object(r.jsx)(le,{})})}),document.getElementById("root")),ie()}},[[339,1,2]]]);
//# sourceMappingURL=main.ea61a4ef.chunk.js.map