{"version":3,"sources":["logo.svg","StateProvider.js","Components/Functions.js","Components/Realtime.js","Components/firebase.js","Components/FormDialog.js","Components/BuySell.js","App.js","reportWebVitals.js","reducer.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","strimstring","stringitem","length","temp","parseInt","toLocaleString","style","currency","substring","getCurrentDate","newDate","Date","getDate","getMonth","getFullYear","Realtime","socket","arr","socketLink","useState","newstockvalue","setnewstockvalue","StockItems","setStockItems","VNIndex","setVNIndex","dispatch","currentstockprice","Stocklist","InitStockItems","setInitStockItems","IsConnected","setIsConnected","getVNindex","require","request","method","url","error","response","body","Error","tempindex","undefined","idx","JSON","parse","cIndex","idxchg","ot","split","idxpct","tval","tvol","vol","a","options","join","ColorText","item1","item2","f","c","r","socketConnect","msg","emit","on","zdata","item","id","newStockItems","indexnum","indexOf","sym","tempstock","side","g1","g2","g3","g4","g5","g6","updatestock","data","date","hours","getHours","minutes","getMinutes","seconds","getSeconds","stringify","type","lastPrice","change","ChangeBackground","lastVolume","lastVol","changePc","lot","totalVol","highPrice","hp","lowPrice","lp","updatestockmatch","DivID","connectioncircleID","document","querySelector","console","log","classList","replace","setTimeout","useEffect","initstockitems","io","backgroundColor","timeout","clearTimeout","removeAllListeners","initWebsocket","map","callback","delay","savedCallback","useRef","current","setInterval","clearInterval","useInterval","className","color","parseFloat","index","toString","borderTopWidth","borderTopColor","borderTopStyle","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","StockRef","collection","FormDialog","props","React","open","setOpen","handleClose","Soldstock","getElementById","isNaN","where","stockitem","MaCK","Amount","BoughtPrice","onSnapshot","snapshot","docs","doc","stockSoldPrice","gain","gainpercent","StockQueries","get","then","exists","update","SoldPrice","DaySold","MonthSold","YearSold","IsSold","Gain","Percent","catch","UpdateStockByID","ExpectedInterest","buyprice","sellprice","expectedprofit","toFixed","Button","variant","fontSize","size","onClick","Dialog","onClose","aria-labelledby","disableBackdropClick","DialogTitle","DialogContent","TextField","autoFocus","margin","label","fullWidth","DialogActions","BuySell","stocks","setStocks","buystocks","setBuyStocks","sellstocks","setSellStocks","showbought","setshowbought","orderBy","filter","sort","b","localeCompare","soldTotal","reduce","prev","cur","expectTotal","findIndex","CRItem","BuyTotal","ShowBuyStock","items","marginTop","placeholder","onChange","e","target","toUpperCase","preventDefault","add","DayBought","MonthBought","YearBought","FormControlLabel","control","Switch","checked","inputProps","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","state","action","currentstockpriceItem","newcurrentstockprice","ReactDOM","render","StrictMode","basket","user"],"mappings":"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","file":"static/js/main.205ed8af.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { createContext, useContext, useReducer } from \"react\";\n\n// Prepares the dataLayer\nexport const StateContext = createContext();\n\n// Wrap our app and provide the Data layer\nexport const StateProvider = ({ reducer, initialState, children }) => (\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\n    {children}\n  </StateContext.Provider>\n);\n\n// Pull information from the data layer\nexport const useStateValue = () => useContext(StateContext);\n","export function strimstring(stringitem) {\n  if (stringitem.length > 2) {\n    let temp = (parseInt(stringitem) * 10).toLocaleString(\"en-US\", {\n      style: \"decimal\",\n      currency: \"USD\",\n    });\n    // console.log(temp);\n    temp = temp.substring(0, temp.length - 1);\n    return temp;\n  } else {\n    return stringitem;\n  }\n}\n\nexport function getCurrentDate() {\n  let newDate = new Date();\n  let date = newDate.getDate();\n  let month = newDate.getMonth() + 1;\n  let year = newDate.getFullYear();\n\n  return [date, month, year];\n}\n","import React, { useState, useEffect, useRef } from \"react\";\nimport \"./Realtime.css\";\nimport io from \"socket.io-client\";\nimport { useStateValue } from \"../StateProvider\";\nimport { strimstring } from \"./Functions\";\n//index link: https://bgapidatafeed.vps.com.vn/getlistindexdetail/10\n\nfunction Realtime() {\n  let socketLink = \"https://bgdatafeed.vps.com.vn/\";\n  const [newstockvalue, setnewstockvalue] = useState(\"Begin\");\n  const [StockItems, setStockItems] = useState([]);\n  const [VNIndex, setVNIndex] = useState([]);\n  // const [WebSocketInitState, setWebSocketInitState] = useState(false);\n  const [{ currentstockprice }, dispatch] = useStateValue();\n  var Stocklist = [\"TCM\", \"HPG\", \"VGT\", \"BID\", \"DXG\"];\n  const [InitStockItems, setInitStockItems] = useState(false);\n  const [IsConnected, setIsConnected] = useState(false);\n  let vStockPs;\n  let socket;\n\n  // socketConnect();\n  useEffect(() => {\n    console.log(\"init stock items\");\n    initstockitems();\n    getVNindex();\n    // initWebsocket();\n    // socketConnect();\n  }, []);\n  useEffect(() => {\n    // initstockitems();\n    if (InitStockItems === true) {\n      console.log(StockItems);\n      initWebsocket();\n      socketConnect();\n    }\n  }, [InitStockItems]);\n\n  //sau khi có du lieu thi update thong tin gia ban\n  useEffect(() => {\n    // console.log(StockItems);\n    StockItems.map((item) =>\n      dispatch({\n        type: \"UPDATE_TO_CURRENTSTOCKPRICE\",\n        item: {\n          sym: item.sym,\n          lastPrice: item.lastPrice,\n        },\n      })\n    );\n  }, [InitStockItems]);\n  // console.log(\"star dispach\", currentstockprice);\n\n  useInterval(() => {\n    // Your custom logic here\n    getVNindex();\n    console.log(\"index update\", Date());\n  }, 60000);\n\n  //thiet lap vong lap lay du lieu\n  function useInterval(callback, delay) {\n    const savedCallback = useRef();\n\n    // Remember the latest function.\n    useEffect(() => {\n      savedCallback.current = callback;\n    }, [callback]);\n\n    // Set up the interval.\n    useEffect(() => {\n      function tick() {\n        savedCallback.current();\n      }\n      if (delay !== null) {\n        let id = setInterval(tick, delay);\n        return () => clearInterval(id);\n      }\n    }, [delay]);\n  }\n  function getVNindex() {\n    const request = require(\"request\");\n    const options = {\n      method: \"GET\",\n      url: \"https://bgapidatafeed.vps.com.vn/getlistindexdetail/10\",\n    };\n    request(options, function (error, response, body) {\n      if (error) throw new Error(error);\n      // console.log(body.id);\n      // JSON.parse(body).content.forEach((indexcontent) => {\n      //   if (indexcontent.brd === \"HOSE\") {\n      let tempindex = { ...VNIndex };\n      if (body !== undefined) {\n        tempindex.idx = JSON.parse(body)[0].cIndex;\n        tempindex.idxchg = JSON.parse(body)[0].ot.split(\"|\")[0];\n        tempindex.idxpct = JSON.parse(body)[0].ot.split(\"|\")[1];\n        // tempindex.ttrd = indexcontent.ttrd;\n        tempindex.tval = JSON.parse(body)[0].ot.split(\"|\")[2];\n        tempindex.tvol = JSON.parse(body)[0].vol;\n        setVNIndex(tempindex);\n      }\n    });\n  }\n  async function initstockitems() {\n    const request = require(\"request\");\n    const options = {\n      method: \"GET\",\n      // url: \"https://bgapidatafeed.vps.com.vn/getliststockdata/VGT,TCM,DXG\",\n      url:\n        \"https://bgapidatafeed.vps.com.vn/getliststockdata/\" +\n        Stocklist.join(\",\"),\n    };\n\n    await request(options, function (error, response, body) {\n      if (error) throw new Error(error);\n      setStockItems(JSON.parse(body));\n      setInitStockItems(true);\n      // console.log(JSON.stringify(body));\n    });\n  }\n\n  function ColorText(item1, item2) {\n    //{{ color: item.lastPrice < item.r ? \"red\" : item.lastPrice > item.r ? \"blue\" : item.lastPrice = item.c ? \"#ff25ff\" : item.lastPrice = item.f ? \"#1eeeee\" : \"black\", }}\n    if (item1 === item2.f) {\n      return \"txt-gia-san\";\n    } else if (item1 === item2.c) {\n      return \"txt-gia-tran\";\n    } else if (item1 < item2.r) {\n      return \"txt-gia-thap\";\n    } else if (item1 > item2.r) {\n      return \"txt-gia-cao\";\n    } else {\n      return \"txt-gia-tc\";\n    }\n  }\n\n  const StockRows = (arr) =>\n    arr &&\n    arr.map((item, index) => (\n      <div className=\"stockCard\" key={index}>\n        {/*prettier-ignore*/}\n        <div className=\"StockCard__Header \" style ={{ color: item.lastPrice < item.r ? \"red\" : item.lastPrice > item.r ? \"blue\" : \"black\", }} id = {item.sym} >\n          <div>{item.sym}</div>\n          <div className=\"backgroundwhite\" id = {item.sym + \"-ot\"} >{item.ot}</div>\n          <div className=\"backgroundwhite\" id = {item.sym + \"-lastPrice\"}>{item.lastPrice}</div>\n          <div className=\"backgroundwhite\" id = {item.sym + \"-lastVolume\"}>{strimstring(item.lastVolume.toString())}</div>\n          <div className=\"backgroundwhite\" id = {item.sym + \"-changePc\"}>{item.changePc}%</div>\n          <div className=\"backgroundwhite\" id = {item.sym + \"-lot\"}>{strimstring(item.lot.toString())}</div>\n        </div>\n\n        <div className=\"stockCard__Buy\">\n          <div className=\"BuyAmount\">\n            <div>Amount</div> <div>Price</div>\n          </div>\n          {/*prettier-ignore*/}\n          <div className={\"BuyAmount backgroundwhite \" + ColorText(item.g1.split(\"|\")[0], item)} id = {item.sym + \"-g1\"}>\n            <div>{strimstring(item.g1.split(\"|\")[1])}</div>\n            <div >{item.g1.split(\"|\")[0]}</div>\n          </div>\n          {/*prettier-ignore*/}\n          <div className={\"BuyAmount backgroundwhite \" + ColorText(item.g2.split(\"|\")[0], item)} id = {item.sym + \"-g2\"}>\n            <div>{strimstring(item.g2.split(\"|\")[1])}</div>\n            <div>{item.g2.split(\"|\")[0]}</div>\n          </div>\n          {/*prettier-ignore*/}\n          <div className={\"BuyAmount backgroundwhite \" + ColorText(item.g3.split(\"|\")[0], item)} id = {item.sym + \"-g3\"}>\n            <div>{strimstring(item.g3.split(\"|\")[1])}</div>\n            <div >{item.g3.split(\"|\")[0]}</div>\n          </div>\n          {/*prettier-ignore*/}\n          <div className={\"BuyAmount backgroundwhite \"+ ColorText(item.lowPrice, item)} style={{  borderTopWidth: 1, borderTopColor: \"#A9A9A9\",borderTopStyle: \"solid\",}}>\n            <div>Min</div> <div>{item.lowPrice}</div>\n          </div>\n        </div>\n        <div className=\"stockCard__Sell\">\n          <div className=\"BuyAmount\">\n            <div>Amount</div> <div>Price</div>\n          </div>\n          {/*prettier-ignore*/}\n          <div className={\"SellAmount backgroundwhite \" + ColorText(item.g4.split(\"|\")[0], item)} id = {item.sym + \"-g4\"}>\n            <div>{strimstring(item.g4.split(\"|\")[1])}</div>\n            <div >{item.g4.split(\"|\")[0]}</div>\n          </div>\n          {/*prettier-ignore*/}\n          <div className={\"SellAmount backgroundwhite \" + ColorText(item.g5.split(\"|\")[0], item)} id = {item.sym + \"-g5\"}>\n            <div>{strimstring(item.g5.split(\"|\")[1])}</div>\n            <div >{item.g5.split(\"|\")[0]}</div>\n          </div>\n          {/*prettier-ignore*/}\n          <div className={\"SellAmount backgroundwhite \" + ColorText(item.g6.split(\"|\")[0], item)} id = {item.sym + \"-g6\"}>\n            <div>{strimstring(item.g6.split(\"|\")[1])}</div>\n            <div >{item.g6.split(\"|\")[0]}</div>\n          </div>\n          {/*prettier-ignore*/}\n          <div className={\"BuyAmount backgroundwhite \"+ ColorText(item.highPrice, item)} style={{  borderTopWidth: 1, borderTopColor: \"#A9A9A9\",borderTopStyle: \"solid\",}}>\n            <div>Max</div> <div>{item.highPrice}</div>\n          </div>\n        </div>\n      </div>\n    ));\n\n  function initWebsocket() {\n    if (socket == null || typeof socket === \"undefined\") {\n      socket = io(socketLink);\n      console.log(\"initial websocket\");\n      socket.on(\"connect\", function (data) {\n        console.log(\"CONNECT\");\n        setIsConnected(true);\n        const connectioncircleID = document.querySelector(\"#connectioncircle\");\n        console.log(connectioncircleID);\n        connectioncircleID.style.backgroundColor = \"blue\";\n        // connectioncircleID.classList.replace(\"notconnected\", \"connected\");\n        const timeout = setTimeout(() => {\n          setIsConnected(false);\n        }, 3000);\n        return () => clearTimeout(timeout);\n        // socket.emit(\"regs\", msg);\n        // console.log(data);\n        // this.('#status-connect').text('Connected').css('color', '#50C979');\n      });\n    } else {\n      if (Stocklist != null && typeof Stocklist !== \"undefined\") {\n        // đăng ký lại room\n        let msg = '{\"action\":\"leave\",\"list\":\"' + Stocklist.join(\",\") + '\"}';\n        socket.emit(\"regs\", msg);\n      }\n    }\n\n    socket.on(\"disconnect\", () => {\n      socket.removeAllListeners();\n      setIsConnected(false);\n      const connectioncircleID = document.querySelector(\"#connectioncircle\");\n      // console.log(connectioncircleID);\n      connectioncircleID.style.backgroundColor = \"gray\";\n      // $('#status-connect').text('Disconnect').css('color', '#DA5664');\n    });\n    socket.on(\"connect_error\", () => {\n      // $('#status-connect').text('Disconnect').css('color', '#DA5664');\n    });\n    socket.on(\"reconnect_error\", () => {\n      // $('#status-connect').text('Disconnect').css('color', '#DA5664');\n    });\n\n    socket.on(\"reconnect\", () => {\n      socketConnect();\n      // $('#status-connect').text('Connected').css('color', '#50C979');\n    });\n\n    //socketConnect();\n  }\n\n  function socketConnect() {\n    // var dmck = $.jStorage.get(\"DANH-MUC-CHUNG-KHOAN\", []);\n    // var stockHandle = _.find(dmck, function (o) { return o.active == true });\n    // if (!stockHandle) {\n    //     return;\n    // }\n    // var msg = \"{\\\"action\\\":\\\"join\\\",\\\"list\\\":\\\"\"+ \"TCM\" +\"\\\"}\";\n    let msg = '{\"action\":\"join\",\"list\":\"' + Stocklist.join(\",\") + '\"}';\n    // console.log(msg);\n    socket.emit(\"regs\", msg);\n\n    socket.on(\"board\", function (zdata) {\n      // sendQueue(zdata.data);\n      // console.log(\"board:\", zdata.data);\n      //Cap nhat thong tin bang gia\n      // 42[\"board\",{\"data\":{\"id\":3210,\"sym\":\"REE\",\"side\":\"S\",\"g1\":\"34.90|314|i\",\"g2\":\"35.00|1|i\",\"g3\":\"35.10|259|i\",\"vol4\":0}}]\n      //42[\"board\",{\"data\":{\"id\":3310,\"sym\":\"VCG\",\"BVolume\":43820,\"SVolume\":28860,\"Total\":13770,\"AvePrice\":17.2,\"APColor\":\"e\"}}]\n      updatestock(zdata.data);\n    });\n\n    socket.on(\"index\", function (zdata) {\n      // console.log(zdata.data);\n    });\n    //Nếu khớp lệnh trả về thông tin khớp, chỉ trả về thông tin mã khớp\n    socket.on(\"stock\", function (zdata) {\n      //{\"id\":3220,\"sym\":\"TCB\",\"lastPrice\":25.3,\"lastVol\":100,\"cl\":\"i\",\"change\":\"0.50\",\"changePc\":\"2.02\",\"totalVol\":108810,\"time\":\"10:49:56\",\"hp\":25.3,\"ch\":\"i\",\"lp\":24.9,\"lc\":\"i\",\"ap\":25.1,\"ca\":\"i\"}\n      updatestockmatch(zdata.data);\n    });\n  }\n\n  //Cap nhat thong tin ve bang gia, neu ben ban thi la S, mua la B\n  function updatestock(item) {\n    // console.log(\"Board\", item);\n    if (InitStockItems === true && item.id === 3210) {\n      let newStockItems = StockItems;\n      let indexnum = Stocklist.indexOf(item.sym);\n      let tempstock = { ...StockItems[indexnum] };\n      if (item.side === \"B\") {\n        tempstock.g1 = item.g1;\n        tempstock.g2 = item.g2;\n        tempstock.g3 = item.g3;\n      } else {\n        tempstock.g4 = item.g1;\n        tempstock.g5 = item.g2;\n        tempstock.g6 = item.g3;\n      }\n\n      // console.log(\"Temp: \", tempstock);\n      // StockItems[indexnum].lastPrice = item.lastPrice;\n      newStockItems[indexnum] = tempstock;\n      setStockItems([...newStockItems]);\n      // console.log(item);\n    }\n  }\n  //doi nen background sang gray khi co thay doi\n  function ChangeBackground(DivID) {\n    //boi den thong so neu co thay doi\n    // let temp = \"#\" + item.sym + \"-lastPrice\";\n    let connectioncircleID = document.querySelector(DivID);\n    console.log(connectioncircleID);\n    // connectioncircleID.style.backgroundColor = \"lightgray\";\n    // prettier-ignore\n    connectioncircleID.classList.replace(\"backgroundwhite\" , \"backgroundgray\");\n    const timeout = setTimeout(() => {\n      // prettier-ignore\n      connectioncircleID.classList.replace(\"backgroundgray\",\"backgroundwhite\");\n    }, 3000);\n  }\n  //Cap nhat thong tin ve khop lenh\n  function updatestockmatch(item) {\n    if (InitStockItems === true) {\n      let date = new Date();\n      let hours = date.getHours();\n      let minutes = date.getMinutes();\n      let seconds = date.getSeconds();\n      let newStockItems = StockItems;\n      let indexnum = Stocklist.indexOf(item.sym);\n      // prettier-ignore\n      setnewstockvalue(hours + \":\" + minutes + \":\" + seconds + \": \" + JSON.stringify(item) );\n      //update thông tin giá các mã đã mua\n      dispatch({\n        type: \"UPDATE_TO_CURRENTSTOCKPRICE\",\n        item: {\n          sym: item.sym,\n          lastPrice: item.lastPrice,\n        },\n      });\n      //uddate thong tin ck\n      // console.log(item);\n      let tempstock = { ...StockItems[indexnum] };\n      if (tempstock.ot !== item.change) {\n        tempstock.ot = item.change;\n        ChangeBackground(\"#\" + item.sym + \"-ot\");\n      }\n      if (tempstock.lastPrice !== item.lastPrice) {\n        tempstock.lastPrice = item.lastPrice;\n        ChangeBackground(\"#\" + item.sym + \"-lastPrice\");\n      }\n      if (tempstock.lastVolume !== item.lastVol) {\n        tempstock.lastVolume = item.lastVol;\n        ChangeBackground(\"#\" + item.sym + \"-lastVolume\");\n      }\n      if (tempstock.changePc !== item.changePc) {\n        tempstock.changePc = item.changePc;\n        ChangeBackground(\"#\" + item.sym + \"-changePc\");\n      }\n      if (tempstock.lot !== item.totalVol) {\n        tempstock.lot = item.totalVol;\n        ChangeBackground(\"#\" + item.sym + \"-lot\");\n      }\n\n      tempstock.highPrice = item.hp;\n      tempstock.lowPrice = item.lp;\n\n      // console.log(\"Temp: \", tempstock);\n      // StockItems[indexnum].lastPrice = item.lastPrice;\n      newStockItems[indexnum] = tempstock;\n      setStockItems([...newStockItems]);\n      // console.log(indexnum);\n      var dnow = new Date();\n      // console.log(\"stock\", item.timeServer + \"ToT\" + dnow.getTime());\n    }\n  }\n\n  return (\n    <div>\n      {/* kiem tra co du lieu moi xuat ko bi loi */}\n      {/*prettier-ignore*/}\n      <div className=\"VNIndexContent\" style={{ color: VNIndex.idxchg < 0 ? \"red\" : \"blue\", }} >\n        {/*prettier-ignore*/}\n        <div className=\"VnIndex\"> {VNIndex.idx !== undefined ? parseFloat(VNIndex.idx).toLocaleString(\"en-US\", { style: \"decimal\", currency: \"USD\", }) : \"0\"} </div>\n        {/*prettier-ignore*/}\n        <div className=\"VnIndex\">      {VNIndex.idxchg !== undefined ? VNIndex.idxchg : \"0\"}   </div>\n        {/*prettier-ignore*/}\n        <div className=\"VnIndex\">{VNIndex.tval !== undefined ? parseInt(VNIndex.tval).toLocaleString(\"en-US\", {style: \"decimal\",currency: \"USD\",}) : \"0\"} </div>\n        {/*prettier-ignore*/}\n       <div> <a className=\"connection-circle notconnected\" id=\"connectioncircle\"></a> </div>\n      </div>\n\n      <div className=\"realtime\">{StockRows(StockItems)}</div>\n      <div className=\"jsonValue\">{newstockvalue}</div>\n      {/*prettier-ignore*/}\n      <div  className= {IsConnected ? \"alert alert-success connection-alert connected-alert text-center fadeIn\":  \"fadeOut\"}>\n        <strong>Connected!</strong>\n      </div>\n    </div>\n  );\n}\n\nexport default Realtime;\n","// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nimport firebase from \"firebase\";\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDl0oKQRCOHexa-EloSX_pJFN-lkSqibtc\",\n  authDomain: \"stockrealtime-5c049.firebaseapp.com\",\n  databaseURL: \"https://stockrealtime-5c049.firebaseio.com\",\n  projectId: \"stockrealtime-5c049\",\n  storageBucket: \"stockrealtime-5c049.appspot.com\",\n  messagingSenderId: \"144010414262\",\n  appId: \"1:144010414262:web:322dbb3aa4889756587e17\",\n  measurementId: \"G-J2YJH55K7K\",\n};\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nconst db = firebaseApp.firestore();\n// const StockRef = db.collection(\"Stocks\");\n\nexport const StockRef = db.collection(\"Stocks\");\nexport default db;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { StockRef } from \"./firebase\";\nimport { getCurrentDate } from \"./Functions\";\n\nexport default function FormDialog(props) {\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleCancel = () => {\n    setOpen(false);\n  };\n\n  function UpdateStockByID(id, stockSoldPrice, gain, gainpercent) {\n    let StockQueries = StockRef.doc(id);\n    // console.log(getCurrentDate()[0]);\n    StockQueries.get()\n      .then(function (doc) {\n        if (doc.exists) {\n          // console.log(\"Document data:\", doc.data());\n          // console.log(gain, gainpercent);\n          StockQueries.update({\n            SoldPrice: stockSoldPrice,\n            DaySold: getCurrentDate()[0],\n            MonthSold: getCurrentDate()[1],\n            YearSold: getCurrentDate()[2],\n            IsSold: true,\n            Gain: gain,\n            Percent: gainpercent,\n          });\n        } else {\n          // doc.data() will be undefined in this case\n          console.log(\"No such document!\");\n        }\n      })\n      .catch(function (error) {\n        console.log(\"Error getting document:\", error);\n      });\n  }\n\n  const handleClose = () => {\n    setOpen(false);\n    let Soldstock = parseFloat(document.getElementById(\"StockID\").value);\n    // console.log(Soldstock);\n    // If value entered was valid\n    if (!isNaN(Soldstock)) {\n      // first : get ID of stock data\n      let StockQueries = StockRef.where(\"MaCK\", \"==\", props.stockitem.MaCK)\n        .where(\"IsSold\", \"==\", false)\n        .where(\"Amount\", \"==\", props.stockitem.Amount)\n        .where(\"BoughtPrice\", \"==\", props.stockitem.BoughtPrice);\n      //   console.log(StockQueries.get);\n      StockQueries.onSnapshot((snapshot) => {\n        snapshot.docs.map((doc) => {\n          UpdateStockByID(\n            doc.id,\n            Soldstock,\n            ExpectedInterest(\n              props.stockitem.BoughtPrice,\n              Soldstock,\n              props.stockitem.Amount\n            )[0],\n            ExpectedInterest(\n              props.stockitem.BoughtPrice,\n              Soldstock,\n              props.stockitem.Amount\n            )[1]\n          );\n          // console.log(doc.id);\n        });\n      });\n    }\n  };\n\n  function ExpectedInterest(buyprice, sellprice, Amount) {\n    let expectedprofit =\n      (parseFloat(sellprice) * 1000 - parseFloat(buyprice) * 1000) * Amount -\n      (parseFloat(buyprice) + parseFloat(sellprice)) * Amount * 2 -\n      parseFloat(sellprice) * Amount;\n\n    let expectedpercent =\n      (expectedprofit / (parseFloat(buyprice) * 10 * Amount)).toFixed(2) + \"%\";\n    return [expectedprofit, expectedpercent];\n  }\n  return (\n    <div>\n      <Button\n        variant=\"outlined\"\n        style={{ fontSize: \"12px\" }}\n        size=\"small\"\n        onClick={handleClickOpen}\n      >\n        Sell\n      </Button>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        // onEntering={handleEnter}\n        aria-labelledby=\"form-dialog-title\"\n        disableBackdropClick={true}\n      >\n        <DialogTitle id=\"form-dialog-title\">Sell Price</DialogTitle>\n        <DialogContent>\n          <TextField\n            id={\"StockID\"}\n            autoFocus\n            margin=\"dense\"\n            // id=\"sellprice\"\n            label=\"Sell Price\"\n            type=\"email\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCancel} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={handleClose} color=\"primary\">\n            Submit\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport \"./BuySell.css\";\nimport \"./firebase\";\nimport Switch from \"@material-ui/core/Switch\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Button from \"@material-ui/core/Button\";\nimport db from \"./firebase\";\nimport TextField from \"@material-ui/core/TextField\";\n\nimport { useStateValue } from \"../StateProvider\";\nimport { getCurrentDate } from \"./Functions\";\n// import { ExpectedInterest } from \"./TransactionItem\";\nimport FormDialog from \"./FormDialog\";\n\n//import db from \"../firebase.js\";\n//twitter 2:36:00\n\nfunction BuySell() {\n  const [stocks, setStocks] = useState([]);\n  const [buystocks, setBuyStocks] = useState([]);\n  const [sellstocks, setSellStocks] = useState([]);\n  const [showbought, setshowbought] = useState(false);\n  // const [ExpectProfit, setExpectProfit] = useState(0);\n  // var ExpectProfit = 0;\n  const [{ currentstockprice }, dispatch] = useStateValue();\n  // const [soldTotal, setsoldTotal] = useState(0);\n  // var stockrecentbuy = {\n  //   MaCK: \"\",\n  //   SoldPrice: 0,\n  //   BoughtPrice: 0,\n  //   Amount: 0,\n  //   Gain: 0,\n  //   Percent: 0,\n  //   IsSold: false,\n  // };\n\n  // console.log(stockrecentbuy);\n  // console.log(\"current price :\", currentstockprice);\n  useEffect(() => {\n    db.collection(\"Stocks\")\n      .orderBy(\"MaCK\")\n      .onSnapshot((snapshot) => {\n        setStocks(snapshot.docs.map((doc) => doc.data()));\n      });\n\n    // let data = [ { id: 1, name: 'Mike', city: 'philps', state:'New York'}, { id: 2, name: 'Steve', city: 'Square', state: 'Chicago'}, { id: 3, name: 'Jhon', city: 'market', state: 'New York'}, { id: 4, name: 'philps', city: 'booket', state: 'Texas'}, { id: 5, name: 'smith', city: 'brookfield', state: 'Florida'}, { id: 6, name: 'Broom', city: 'old street', state: 'Florida'}, ]\n    // data = data.filter((item) => item.state == 'New York').map(({id, name, city}) => ({id, name, city}));\n    // console.log(data);\n  }, []);\n\n  useEffect(() => {\n    // prettier-ignore\n    let data = stocks\n      ?.filter((item) => item.IsSold === false)\n      .map(({MaCK,SoldPrice,BoughtPrice,Amount,Gain,Percent,IsSold,}) =>\n      ({MaCK,SoldPrice,BoughtPrice,Amount,Gain,Percent,IsSold,})\n      );\n    // objs.sort(function(a, b) {\n    // return a.last_nom.localeCompare(b.last_nom)\n    // });\n    setBuyStocks(\n      data.sort(function (a, b) {\n        return a.MaCK.localeCompare(b.MaCK);\n      })\n    );\n    // console.log(\"CK chua ban\", data);\n    // prettier-ignore\n    data = stocks\n      ?.filter((item) => item.IsSold === true).map(\n        ({MaCK,SoldPrice,BoughtPrice,Amount,Gain,Percent,IsSold,}) =>\n        ({MaCK,SoldPrice,BoughtPrice,Amount,Gain,Percent,IsSold,})\n      );\n    setSellStocks(data);\n    //get buy/sell total\n\n    // console.log(\"CK da ban\", data);\n  }, [stocks]);\n  //\n  // var soldTotal = sellstocks.reduce(function (prev, cur) {\n  //   return prev + cur.Gain;\n  // }, 0);\n\n  var soldTotal = sellstocks.reduce(function (prev, cur) {\n    return (\n      prev + ExpectedInterest(cur.BoughtPrice, cur.SoldPrice, cur.Amount)[0]\n    );\n  }, 0);\n\n  var expectTotal = buystocks.reduce(function (prev, cur) {\n    return (\n      prev +\n      ExpectedInterest(\n        cur.BoughtPrice,\n        currentstockprice[\n          currentstockprice.findIndex((CRItem) => CRItem.sym === cur.MaCK)\n        ]?.lastPrice,\n        cur.Amount\n      )[0]\n    );\n  }, 0);\n\n  let BuyTotal = buystocks.reduce(function (prev, cur) {\n    return prev + cur.BoughtPrice * cur.Amount * 1000;\n  }, 0);\n  // console.log(BuyTotal);\n  // console.log(soldTotal);\n  // let data = stocks\n  //   .filter((item) => item.IsSold === false)\n  //   .map(({ MaCK, SoldPrice, BoughtPrice, Amount }) => ({\n  //     MaCK,\n  //     SoldPrice,\n  //     BoughtPrice,\n  //     Amount,\n  //   }));\n  // console.log(\"CK chua ban\", data);\n  //console.log(sellstocks);\n  // End load data\n\n  const addstockclick = (e) => {\n    e.preventDefault();\n    db.collection(\"Stocks\").add({\n      MaCK: document.getElementById(\"StockCodeID\").value.toUpperCase(),\n      SoldPrice: 0,\n      BoughtPrice: parseFloat(document.getElementById(\"BuyPrice\").value),\n      IsSold: false,\n      Amount: parseInt(document.getElementById(\"StockAmount\").value),\n      Gain: 0,\n      Percent: 0,\n      DayBought: getCurrentDate()[0],\n      MonthBought: getCurrentDate()[1],\n      YearBought: getCurrentDate()[2],\n      DaySold: 0,\n      MonthSold: 0,\n      YearSold: 0,\n    });\n    console.log(document.getElementById(\"StockCodeID\").value);\n    console.log(document.getElementById(\"StockAmount\").value);\n    console.log(document.getElementById(\"BuyPrice\").value);\n    // console.log(stockrecentbuy);\n\n    // console.log(\"Add Stock Clicked !!!\");\n  };\n\n  function showboughtClick() {\n    showbought ? setshowbought(false) : setshowbought(true);\n    // setshowbought\n    // setChecked((prev) => !prev);\n  }\n\n  const soldstockclick = (e, mack, khoiluong, giamua) => {\n    e.preventDefault();\n    // db.collection(\"Stocks\").onSnapshot((snapshot) => {\n    //   setStocks(snapshot.docs.map((doc) => doc.data()));\n    // }\n    const cityRef = db.collection(\"Stocks\").where();\n    const doc = cityRef.get();\n    if (!doc.exists) {\n      console.log(\"No such document!\");\n    } else {\n      console.log(\"Document data:\", doc.data());\n    }\n    // console.log(db);\n  };\n  function ExpectedInterest(buyprice, sellprice, Amount) {\n    let expectedprofit =\n      (parseFloat(sellprice) * 1000 - parseFloat(buyprice) * 1000) * Amount -\n      (parseFloat(buyprice) + parseFloat(sellprice)) * Amount * 2 -\n      parseFloat(sellprice) * Amount;\n\n    let expectedpercent =\n      (expectedprofit / (parseFloat(buyprice) * 10 * Amount)).toFixed(2) + \"%\";\n    return [expectedprofit, expectedpercent];\n  }\n  // console.log(stocks);\n\n  const ShowBuyStock = (items) =>\n    items &&\n    items.map((item, index) => (\n      <div className=\"stocks\" key={index}>\n        <div className=\"mack\">{item.MaCK}</div>\n        <div className=\"buyprice\">{item.BoughtPrice}</div>\n        <div className=\"sell\">\n          {item.IsSold\n            ? item.SoldPrice\n            : currentstockprice[\n                currentstockprice.findIndex(\n                  (CRItem) => CRItem.sym === item.MaCK\n                )\n              ]?.lastPrice}\n        </div>\n        <div className=\"Amount\">\n          {item.Amount.toLocaleString(\"en-US\", {\n            style: \"decimal\",\n            currency: \"USD\",\n          })}\n        </div>\n        <div className=\"lailo\">\n          {item.IsSold\n            ? item.Gain.toLocaleString(\"en-US\", {\n                style: \"decimal\",\n                currency: \"USD\",\n              })\n            : // ExpectedInterest(\n              //   item.BoughtPrice,\n              //   item.SoldPrice,\n              //   item.Amount\n              // )[0].toLocaleString(\"en-US\", {\n              //   style: \"decimal\",\n              //   currency: \"USD\",\n              // })\n              ExpectedInterest(\n                item.BoughtPrice,\n                currentstockprice[\n                  currentstockprice.findIndex(\n                    (CRItem) => CRItem.sym === item.MaCK\n                  )\n                ]?.lastPrice,\n                item.Amount\n              )[0].toLocaleString(\"en-US\", {\n                style: \"decimal\",\n                currency: \"USD\",\n              })}\n        </div>\n        <div className=\"tyle\">\n          {item.IsSold\n            ? item.Percent.toLocaleString(\"en-US\", {\n                style: \"decimal\",\n                currency: \"USD\",\n              })\n            : ExpectedInterest(\n                item.BoughtPrice,\n                currentstockprice[\n                  currentstockprice.findIndex(\n                    (CRItem) => CRItem.sym === item.MaCK\n                  )\n                ]?.lastPrice,\n                item.Amount\n              )[1].toLocaleString(\"en-US\", {\n                style: \"decimal\",\n                currency: \"USD\",\n              })}\n        </div>\n        {/* <div>\n          {ExpectedInterest(item.BoughtPrice, item.SoldPrice, item.Amount)[0]}\n        </div> */}\n        <div className=\"sellbutton\">\n          {item.IsSold ? \"\" : <FormDialog stockitem={item} />}\n        </div>\n      </div>\n      // console.log(random(5)),\n    ));\n\n  return (\n    <div className=\"buysell\">\n      <div className=\"addstockform\">\n        <form>\n          <div className=\"stockadd\">\n            <div>\n              <TextField\n                id=\"StockCodeID\"\n                label=\"Stock Code\"\n                style={{ marginTop: 5 }}\n                placeholder=\"0\"\n                // margin=\"dense\"\n                variant=\"outlined\"\n                size=\"small\"\n                // value={stockrecentbuy.MaCK}\n                onChange={(e) => {\n                  // stockrecentbuy.MaCK = e.target.value.toUpperCase();\n                  // e.target.value = stockrecentbuy.MaCK;\n                  // console.log(stockrecentbuy);\n                  e.target.value = e.target.value.toUpperCase();\n                  // console.log(document.getElementById(\"StockCodeID\").value);\n                }}\n              />\n            </div>\n            <div>\n              <TextField\n                id=\"StockAmount\"\n                label=\"Stock Amount\"\n                style={{ marginTop: 5 }}\n                placeholder=\"0\"\n                // margin=\"normal\"\n                variant=\"outlined\"\n                size=\"small\"\n                // value={stockrecentbuy.Amount}\n                onChange={(e) => {\n                  // stockrecentbuy.Amount = parseInt(e.target.value);\n                  // console.log(stockrecentbuy);\n                  // console.log(document.getElementById(\"StockAmount\").value);\n                }}\n              />\n            </div>\n            <div>\n              <TextField\n                id=\"BuyPrice\"\n                label=\"Buy Price\"\n                style={{ marginTop: 5 }}\n                placeholder=\"0\"\n                // margin=\"normal\"\n                size=\"small\"\n                // InputLabelProps={{\n                //   shrink: true,\n                // }}\n                variant=\"outlined\"\n                // value={stockrecentbuy.BoughtPrice}\n                onChange={(e) => {\n                  // stockrecentbuy.BoughtPrice = parseFloat(e.target.value);\n                  // console.log(stockrecentbuy);\n                  // console.log(document.getElementById(\"BuyPrice\").value);\n                }}\n              />\n            </div>\n            {/* <input\n              // value=\"\"\n              onChange={(e) => {\n                stockrecentbuy.MaCK = e.target.value.toUpperCase();\n                e.target.value = stockrecentbuy.MaCK;\n                console.log(stockrecentbuy);\n              }}\n              className=\"profit__Input\"\n              placeholder={\"0\"}\n            /> */}\n          </div>\n          <Button\n            variant=\"outlined\"\n            style={{ marginTop: 5, fontSize: \"12px\" }}\n            size=\"small\"\n            onClick={addstockclick}\n          >\n            Add Stock\n          </Button>\n          {/* <button className=\"addstock\" onClick={addstockclick}>\n            Add Stock\n          </button> */}\n        </form>\n      </div>\n      <div className=\"buysell__title\">\n        <h2>Bought Stocks</h2>\n        {ShowBuyStock(buystocks)}\n      </div>\n      <div className=\"total\">\n        <div className=\"totalitemleft\">\n          {expectTotal.toLocaleString(\"en-US\", {\n            style: \"decimal\",\n            currency: \"USD\",\n          })}\n        </div>\n        <div className=\"totalitemright\">\n          {BuyTotal.toLocaleString(\"en-US\", {\n            style: \"decimal\",\n            currency: \"USD\",\n          })}\n        </div>\n        <div className=\"totalpercent\">\n          {((expectTotal * 100) / BuyTotal).toFixed(2) + \"%\"}\n        </div>\n      </div>\n\n      <div className=\"buysell__title\">\n        <div className=\"showbought\">\n          <h2>Sold Stocks</h2>\n          <div className=\"showlable\">\n            <FormControlLabel\n              control={\n                <Switch\n                  checked={showbought}\n                  onChange={showboughtClick}\n                  // name=\"checkedA\"\n                  inputProps={{ \"aria-label\": \"secondary checkbox\" }}\n                  color=\"primary\"\n                />\n              }\n              // label=\"Show\"\n            />\n          </div>\n          {/* <div className=\"minusstock1\" onClick={showboughtClick}></div> */}\n        </div>\n\n        {showbought ? ShowBuyStock(sellstocks) : null}\n        <div className=\"total\">\n          {soldTotal.toLocaleString(\"en-US\", {\n            style: \"decimal\",\n            currency: \"USD\",\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default BuySell;\n","import logo from './logo.svg';\nimport './App.css';\nimport Realtime from \"./Components/Realtime\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport BuySell from \"./Components/BuySell\"\n\n//https://bgapidatafeed.vps.com.vn/getliststockdata/DXG,VGT,TCM\n//wss://bgdatafeed.vps.com.vn/socket.io\n//var socketLink = 'https://bgdatafeed.vps.com.vn/';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <div className=\"app\">\n          <Switch>\n            <Route path=\"/StockManager\">{<Realtime />}</Route>\n            <Route path=\"/Utils\">{<Realtime />}</Route>\n            <Route path=\"/HistoryTransactions\">{<Realtime />}</Route>\n            <Route path=\"/\">\n              <Realtime />\n              <BuySell />\n            </Route>\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const initialState = {\n  basket: [\"hungtd\", \"tdhung\"],\n  user: null,\n  currentstockprice: [],\n  // hoseindex: [],\n};\n\n// Selector\nexport const getBasketTotal = (basket) =>\n  basket?.reduce((Gain, item) => item.price + Gain, 0);\n\nconst reducer = (state, action) => {\n  // console.log(action);\n  switch (action.type) {\n    case \"ADD_TO_BASKET\":\n      return {\n        ...state,\n        currentstockprice: [...state.currentstockprice, action.item],\n      };\n    // console.log(currentstockprice);\n    case \"UPDATE_TO_CURRENTSTOCKPRICE\":\n      const index = state.currentstockprice.findIndex(\n        (currentstockpriceItem) => currentstockpriceItem.sym === action.item.sym\n      );\n      let newcurrentstockprice = [...state.currentstockprice];\n\n      if (index >= 0) {\n        // newBasket.splice(index, 1);\n        // console.warn(newcurrentstockprice[index].lastPrice);\n        newcurrentstockprice[index].lastPrice = action.item.lastPrice;\n        // console.warn(newcurrentstockprice[index].mat);\n      } else {\n        //khong co can add them\n        newcurrentstockprice = [...state.currentstockprice, action.item];\n      }\n\n      return {\n        ...state,\n        currentstockprice: newcurrentstockprice,\n      };\n\n    // case \"SET_STOCK_INDEX\":\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport reducer, { initialState } from \"./reducer\";\nimport { StateProvider } from \"./StateProvider\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <StateProvider initialState={initialState} reducer={reducer}>\n            <App />\n        </StateProvider>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}