{"version":3,"sources":["StateProvider.js","Components/Functions.js","Components/VNIndexChart.js","Components/firebase.js","Components/ListComponent.js","Components/Chart/BarChart.js","Components/AnuallOutcome/ListItemOutcome.js","Components/AnuallOutcome/AnnuallOutcome.js","Components/Realtime.js","Components/SellDialog.js","Components/BuySell.js","Components/TransactionItem.js","Components/HistoryTransactions.js","Components/StockCodeView.js","Components/AnnualIncome/ListItemIncome.js","Components/AnnualIncome/AnnualIncome.js","Components/Version.js","App.js","reportWebVitals.js","reducer.js","index.js"],"names":["StateContext","createContext","StateProvider","_ref","reducer","initialState","children","_jsx","Provider","value","useReducer","useStateValue","useContext","strimstring","stringitem","length","temp","parseInt","toLocaleString","style","currency","substring","getCurrentDate","newDate","Date","getDate","getMonth","getFullYear","useInterval","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","ExpectedInterest","buyprice","sellprice","Amount","expectedprofit","parseFloat","toFixed","VNCurrency","Currency","VnIndexChart","data_HSX","open","series","volume","data","setData","useState","options","isLoading","setIsLoading","newOptions","date","bYear","bMonth","bDay","bMin","eYear","eMonth","eDay","eHour","eMin","async","getMarketIndicator","marketCode","res","fetch","zdata","json","getHours","openIndex","hasOwnProperty","oVol","j","map","idata","i","vol","time","h","split","utc","UTC","indexData","x","y","cIndex","volumeData","nullUtc1","nullUtc2","indexDataP1","indexDataV1","indexDataP2","indexDataV2","push","chartName","chart","renderTo","backgroundColor","animation","marginLeft","marginRight","marginBottom","marginTop","borderRadius","height","width","title","text","xAxis","type","gridLineColor","gridLineWidth","labels","color","fontSize","yAxis","enabled","opposite","plotOptions","line","lineWidth","marker","threshold","area","shadow","states","hover","connectNulls","legend","credits","pointInterval","pointStart","pointEnd","dashStyle","enableMouseTracking","dataLabels","opacity","name","selected","dataGrouping","second","getColor","negativeColor","initChart","cl","fetchData","HighchartsReact","highcharts","Highcharts","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","NowYear","StockRef","collection","ListComponent","memo","stockitem","propsLength","FixedSizeList","itemSize","itemCount","_ref2","index","item","_jsxs","className","stockside","timematch","pricematch","volumematch","BarChart","props","datasets","label","MainLabel","borderColor","borderWidth","fill","Total","SubLabel","Bar","display","position","scales","yAxes","ticks","toString","replace","tooltips","callbacks","tooltipItem","Number","yLabel","c","a","plugins","datalabels","ListItemOutcome","OutcomeItem","Day","Month","Year","Outcome","AnnuallOutcome","year","setYear","dateOutcome","setDateOutcome","React","TotalOutcomes","setTotalOutcomes","BeforeTotalOutcomes","setBeforeTotalOutcomes","IsAddOutcome","setIsAddOutcome","TotalOutcome","reduce","prev","cur","BeforeTotalOutcome","OutcomeTotalPerMonth","GainTotal","now","BeforeYear","orderBy","onSnapshot","snapshot","docs","doc","substr","Link","to","onClick","YearButton","fontWeight","LocalizationProvider","dateAdapter","AdapterDateFns","Stack","spacing","DesktopDatePicker","inputFormat","onChange","newValue","renderInput","params","TextField","_objectSpread","CurrencyFormat","customInput","thousandSeparator","prefix","variant","size","Button","e","preventDefault","add","document","getElementById","replaceAll","Chart","items","Realtime","NewStockValue","setNewStockValue","StockItems","setStockItems","VNIndex","setVNIndex","matchStockValue","setmatchStockValue","socket","dispatch","Stocklist","setStocklist","InitStockItems","setInitStockItems","IsConnected","setIsConnected","BuyStocksTemp","setBuyStocksTemp","isStockItems","isFirstRef","isNewStockItems","getVNindex","response","body","undefined","chg","pct","tval","ot","tempindex","idx","idxopen","oIndex","idxchg","idxpct","tvol","status","error","console","initStockItems","log","concat","join","localStorage","setItem","JSON","stringify","msg","emit","connectioncircleID","querySelector","timeout","setTimeout","clearTimeout","parse","getItem","on","sym","side","updateElementContent","g1","changeColorBuySell","ColorPrice","innerHTML","g2","g3","updateStockMatch","removeAllListeners","startAt","endAt","forEach","MaCK","findIndex","stock","currentStocklist","lastPrice","selector","newContent","element","changeBackground","tempID","hours","minutes","getMinutes","seconds","getSeconds","prevArr","stockid","lastVol","titleElement","link","createElement","rel","head","appendChild","referencePrice","href","updateWebpageTitle","updateDomElement","change","changePc","totalVol","hp","lp","isNumeric","arguments","ColorText","item1","item2","f","r","pricenew","pricer","pricef","pricec","divID","newStyle","currentStyle","classList","target","toUpperCase","tempStock","trim","indexOf","newArray","filter","arr","lastVolume","lot","lowPrice","borderTopWidth","borderTopColor","borderTopStyle","g4","g5","g6","highPrice","matchStockitem","SellDialog","setOpen","UpdateStockByID","stockSoldPrice","gain","gainpercent","StockQueries","get","then","exists","update","SoldPrice","DaySold","MonthSold","YearSold","IsSold","Gain","Percent","catch","handleClose","Soldstock","StockAmount","isNaN","where","BoughtPrice","DayBought","MonthBought","YearBought","handleClickOpen","Dialog","onClose","disableBackdropClick","DialogTitle","DialogContent","autoFocus","margin","fullWidth","defaultValue","DialogActions","handleCancel","BuySell","stocks","setStocks","buystocks","setBuyStocks","sellstocks","setSellStocks","showbought","setShowBought","currentstockprice","ratiopercent","setratiopercent","ratiotemp","setRatiotemp","buytemp","soldtemp","LightTooltip","withStyles","theme","tooltip","palette","common","white","boxShadow","shadows","Tooltip","sort","b","localeCompare","soldTotal","BuyTotal","expectTotal","_currentstockprice$cu","CRItem","expectedpercent","ShowBuyStock","buysell","_currentstockprice$fi","currentPrice","find","expectedInterest","textAlign","placeholder","FormControlLabel","control","Switch","checked","inputProps","disabled","TransactionItem","HistoryTransactions","GainTotalPerMonth","StockCodeView","ListItemIncome","IncomeItem","Income","AnnualIncome","dateincome","setDateIncome","TotalIncomes","setTotalIncomes","BeforeTotalIncomes","setBeforeTotalIncomes","IsAddIncome","setIsAddIncome","TotalIncome","BeforeTotalIncome","IncomeTotalPerMonth","Version","App","Router","Route","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","basket","user","io","state","action","StocklistItem","newStocklist","splice","currentstockpriceItem","newcurrentstockprice","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ea61a4ef.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\n\n// Prepares the dataLayer\nexport const StateContext = createContext();\n\n// Wrap our app and provide the Data layer\nexport const StateProvider = ({ reducer, initialState, children }) => (\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\n    {children}\n  </StateContext.Provider>\n);\n\n// Pull information from the data layer\nexport const useStateValue = () => useContext(StateContext);\n","import { useEffect, useRef } from \"react\";\n\nexport function strimstring(stringitem) {\n  // console.log(stringitem);\n  if (stringitem.length > 2) {\n    let temp = (parseInt(stringitem) * 10).toLocaleString(\"en-US\", {\n      style: \"decimal\",\n      currency: \"USD\",\n    });\n    // console.log(temp);\n    temp = temp.substring(0, temp.length - 1);\n    return temp;\n  } else {\n    return stringitem;\n  }\n}\n\nexport function getCurrentDate() {\n  let newDate = new Date();\n  let date = newDate.getDate();\n  let month = newDate.getMonth() + 1;\n  let year = newDate.getFullYear();\n\n  return [date, month, year];\n}\n\nexport function useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  // Remember the latest function.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n\nexport function ExpectedInterest(buyprice, sellprice, Amount) {\n  let expectedprofit =\n    (parseFloat(sellprice) * 1000 - parseFloat(buyprice) * 1000) * Amount -\n    (parseFloat(buyprice) + parseFloat(sellprice)) * Amount * 2 -\n    parseFloat(sellprice) * Amount;\n\n  let expectedpercent =\n    (expectedprofit / (parseFloat(buyprice) * 10 * Amount)).toFixed(2) + \"%\";\n  return [expectedprofit, expectedpercent];\n}\n\nexport function VNCurrency(Currency) {\n  return parseInt(Currency).toLocaleString(\"en-US\", {\n    style: \"decimal\",\n    currency: \"USD\",\n  });\n}\n","import React, { useState, useEffect } from \"react\";\nimport \"./VnIndexChart.css\";\nimport Highcharts from \"highcharts\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport { useInterval } from \"./Functions\";\n\n// const marketCode = \"10\";\n\nfunction VnIndexChart() {\n  const historyIndicatorLink =\n    \"https://bgapidatafeed.vps.com.vn/getchartindexdata/\";\n  const data_HSX = { open: 0, series: [], volume: [] };\n  const [data, setData] = useState({ options: {} });\n  const [isLoading, setIsLoading] = useState(false);\n  let date = new Date();\n  let bYear = date.getFullYear();\n  let bMonth = date.getMonth() + 1;\n  let bDay = date.getDate();\n  let bHour = 9;\n  let bMin = 15;\n  let eYear = date.getFullYear();\n  let eMonth = date.getMonth() + 1;\n  let eDay = date.getDate();\n  let eHour = 11;\n  let eMin = 0;\n  let stockChart;\n  let newOptions;\n  // let openIndex = 1075.56;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      //Lấy dữ liệu VNindex\n      getMarketIndicator(\"10\");\n      setIsLoading(false);\n    };\n    fetchData();\n  }, []);\n\n  useInterval(() => {\n    // Your custom logic here\n    getMarketIndicator(\"10\");\n    // console.log(\"HSX update:\", Date());\n  }, 60000);\n\n  async function getMarketIndicator(marketCode) {\n    const res = await fetch(historyIndicatorLink + marketCode);\n    const zdata = await res.json();\n    // console.log(\"zdata\", zdata);\n    // eMin = date.getMinutes();\n    // if (eMin < 50) {\n    //   eHour = date.getHours() + 2;\n    //   // console.log(eHour);\n    //   eMin = eMin;\n    // } else {\n    //   eHour = date.getHours() + 4;\n    //   console.log(\"else\", eHour);\n    //   eMin = 5;\n    // }\n    eHour = date.getHours();\n    if (eHour > 8 && eHour <= 12) {\n      eHour = date.getHours() + 2;\n      eMin = 0;\n    } else {\n      eHour = 14;\n      eMin = 16;\n    }\n\n    if (zdata != null) {\n      let code = zdata.marketCode;\n      let openIndex = 0;\n      if (zdata.hasOwnProperty(\"openIndex\")) {\n        openIndex = zdata.openIndex;\n      }\n      let oVol = 0;\n      let j = 0;\n      zdata.data.map((idata, i) => {\n        if (i === 0) {\n          oVol = idata.vol;\n          // openIndex = idata.oIndex;\n        } else if (idata.time !== null && idata.time !== \"null\") {\n          let h = idata.time.split(\":\");\n          let utc = Date.UTC(bYear, bMonth, bDay, h[0], h[1]);\n          let indexData = { x: utc, y: idata.cIndex };\n          let volumeData = { x: utc, y: idata.vol - oVol };\n\n          if (\n            ((h[0] === \"13\" && h[1] === \"00\") ||\n              (h[0] === \"12\" && h[1] === \"59\")) &&\n            j === 0\n          ) {\n            //alert('them diem null');\n            let nullUtc1 = Date.UTC(bYear, bMonth, bDay, 11, 31);\n            let nullUtc2 = Date.UTC(bYear, bMonth, bDay, 12, 59);\n            let indexDataP1 = { x: nullUtc1, y: idata.cIndex };\n            let indexDataV1 = { x: nullUtc1, y: 0 };\n            let indexDataP2 = { x: nullUtc2, y: idata.cIndex };\n            let indexDataV2 = { x: nullUtc2, y: 0 };\n            if (marketCode === \"10\") {\n              data_HSX.series.push(indexDataP1);\n              data_HSX.series.push(indexDataP2);\n              data_HSX.volume.push(indexDataV1);\n              data_HSX.volume.push(indexDataV2);\n            }\n            j++;\n          }\n          if (idata.vol - oVol > 0) {\n            // HSX\n            if (marketCode === \"10\") {\n              if (\n                data_HSX.series.length === 0 ||\n                utc - data_HSX.series[data_HSX.series.length - 1].x >= 60000\n              ) {\n                data_HSX.open = openIndex;\n                data_HSX.series.push(indexData);\n                data_HSX.volume.push(volumeData);\n                oVol = idata.vol;\n              } else {\n                data_HSX.series[data_HSX.series.length - 1] = indexData;\n                data_HSX.volume[data_HSX.volume.length - 1] = volumeData;\n              }\n            }\n          }\n        }\n      });\n      // console.log(\"data_HSC: \", data_HSX);\n      // ve do thi\n      // prettier-ignore\n      initChart(\"containerHSX\",marketCode,data_HSX.series,openIndex,data_HSX.volume);\n      // console.log(\"end get data\", newOptions);\n    }\n  }\n\n  function initChart(chartName, marketCode, indexData, openIndex, volumeData) {\n    let stockCode = \"VNIndex\";\n    let iMin = openIndex;\n    let mColor = \"#ffd700\";\n    let vMax = 1000000;\n    // console.log(\"index data:\", indexData);\n    // console.log(\"volume data:\", volumeData);\n    newOptions = {\n      chart: {\n        renderTo: chartName,\n        backgroundColor: \"#111217\",\n        // zoomType: 'xy',\n        animation: false,\n        marginLeft: 2,\n        marginRight: 2,\n        marginBottom: 22,\n        marginTop: 2,\n        borderRadius: 5,\n        // margin: 20,\n        height: 90,\n        width: 250,\n      },\n      title: { text: \"\" },\n      xAxis: {\n        type: \"datetime\",\n        gridLineColor: \"#C0C0C0\",\n        gridLineWidth: 0,\n        labels: {\n          style: {\n            color: \"#B6BDCD\",\n            fontSize: \"10px\",\n          },\n        },\n      },\n      yAxis: [\n        {\n          // Primary yAxis\n          title: { text: \"\" },\n          gridLineColor: \"#C0C0C0\",\n          gridLineWidth: 0,\n          labels: { enabled: false },\n        },\n        {\n          // Secondary yAxis\n          title: { text: \"\" },\n          opposite: true,\n          //max: vMax,\n          gridLineColor: \"#C0C0C0\",\n          gridLineWidth: 0,\n          labels: { enabled: false },\n        },\n      ],\n      plotOptions: {\n        line: {\n          animation: false,\n          lineWidth: 1.5,\n          marker: {\n            enabled: false,\n          },\n          threshold: openIndex,\n        },\n        area: {\n          animation: false,\n          lineWidth: 1,\n          marker: {\n            enabled: false,\n          },\n          shadow: false,\n          states: {\n            hover: {\n              lineWidth: 1,\n            },\n          },\n        },\n        series: {\n          connectNulls: true,\n        },\n      },\n      legend: {\n        enabled: false,\n      },\n      credits: {\n        enabled: false,\n      },\n      series: [\n        {\n          type: \"line\",\n          color: \"#d1af54\",\n          data: [\n            [Date.UTC(bYear, bMonth, bDay, bHour, bMin), openIndex],\n            [Date.UTC(eYear, eMonth, eDay, eHour, eMin), openIndex],\n          ],\n          pointInterval: 60 * 10000,\n          pointStart: Date.UTC(2021, 2, 3, 9, 0),\n          pointEnd: Date.UTC(2021, 2, 3, 14, 0),\n          marker: {\n            enabled: false,\n          },\n          dashStyle: \"shortdash\",\n          enableMouseTracking: false,\n          dataLabels: [\n            {\n              enabled: true,\n              style: {\n                color: \"#B6BDCD\",\n                fontSize: \"9px\",\n              },\n              x: 120,\n            },\n            {\n              enabled: true,\n              style: {\n                color: \"#FFF\",\n                fontSize: \"9px\",\n                opacity: 0.001,\n              },\n              x: 248,\n            },\n          ],\n        },\n        {\n          type: \"area\",\n          name: \"Volume\",\n          yAxis: 1,\n          color: \"#67CDF0\",\n          pointInterval: 60 * 10000,\n          pointStart: Date.UTC(bYear, bMonth, bDay, bHour, bMin),\n          pointEnd: Date.UTC(eYear, eMonth, eDay, eHour, eMin),\n          data: volumeData,\n          selected: true,\n          connectNulls: false,\n          enableMouseTracking: false,\n          dataGrouping: {\n            second: [\"%A, %b %e, %H:%M:%S\", \"%A, %b %e, %H:%M:%S\", \"-%H:%M:%S\"],\n          },\n        },\n        {\n          type: \"line\",\n          threshold: openIndex,\n          color: getColor(\"i\"),\n          negativeColor: getColor(\"d\"),\n          name: \"VN-INDEX\",\n          pointInterval: 60 * 10000,\n          pointStart: Date.UTC(bYear, bMonth, bDay, bHour, bMin),\n          pointEnd: Date.UTC(eYear, eMonth, eDay, eHour, eMin),\n          data: indexData,\n          selected: true,\n          connectNulls: true,\n          enableMouseTracking: false,\n          dataGrouping: {\n            second: [\"%A, %b %e, %H:%M:%S\", \"%A, %b %e, %H:%M:%S\", \"-%H:%M:%S\"],\n          },\n        },\n      ],\n    };\n    // console.log(\"End make options:\", newOptions);\n    setData({ options: newOptions });\n  }\n\n  function getColor(cl) {\n    if (cl === \"d\" || cl === \"txt-red\") return \"red\";\n    if (cl === \"i\" || cl === \"txt-lime\") return \"#0f0\";\n    if (cl === \"e\") return \"#ffd900\";\n    if (cl === \"c\" || cl === \"ceiling\") return \"#ff25ff\";\n    if (cl === \"f\" || cl === \"floor\") return \"#1eeeee\";\n\n    return \"#f0f0f0\";\n  }\n  return (\n    <div>\n      {isLoading ? (\n        <div>Loading ...</div>\n      ) : (\n        <HighchartsReact highcharts={Highcharts} options={data.options} />\n      )}\n    </div>\n  );\n}\n\nexport default VnIndexChart;\n","// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/firestore\";\n\nlet firebaseConfig = {\n  apiKey: \"AIzaSyDl0oKQRCOHexa-EloSX_pJFN-lkSqibtc\",\n  authDomain: \"stockrealtime-5c049.firebaseapp.com\",\n  databaseURL: \"https://stockrealtime-5c049.firebaseio.com\",\n  projectId: \"stockrealtime-5c049\",\n  storageBucket: \"stockrealtime-5c049.appspot.com\",\n  messagingSenderId: \"144010414262\",\n  appId: \"1:144010414262:web:322dbb3aa4889756587e17\",\n  measurementId: \"G-J2YJH55K7K\",\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\n\n// const StockRef = db.collection(\"Stocks\");\nlet now = new Date();\nlet NowYear = now.getFullYear();\n\nexport const StockRef = db.collection(\"Stocks\" + NowYear);\nexport default db;\n","import React, { memo } from \"react\";\nimport { FixedSizeList } from \"react-window\";\nimport \"./ListComponent.css\";\n\n// prettier-ignore\nconst ListComponent = memo(({ stockitem }) => {\n    const propsLength = stockitem.length;\n\n    const Row = ({ index, style }) => {\n        const item = stockitem[propsLength - index - 1];\n        return (\n            <div className={item.stockside === \"B\" ? \"MatchRowBuy MatchRow\" : \"MatchRowSell MatchRow\"}   style={style}>\n                <div className=\"MatchRowTime\" >\n                    {item.timematch === \"null\" ? \"ATC\" : item.timematch}\n                </div>\n                <div\n                    className=\"MatchSide\"\n                >\n                    {item.stockside=== \"null\" ? \"\" : item.stockside}\n                </div>\n                <div className=\"MatchRowPrice\" >\n                    {item.pricematch}\n                </div>\n                <div className=\"MatchRowVolume\" >\n                    {(item.volumematch * 10).toLocaleString(\"en-US\", {\n                        style: \"decimal\",\n                        currency: \"USD\",\n                    })}\n                </div>\n            </div>\n        );\n    };\n\n    return (\n        <FixedSizeList\n            height={100}\n            width={130}\n            itemSize={15}\n            itemCount={stockitem.length}\n        >\n            {Row}\n        </FixedSizeList>\n    );\n});\n\nexport default ListComponent;\n","import React, { useState, useEffect } from \"react\";\nimport { Bar } from \"react-chartjs-2\";\nimport \"chartjs-plugin-datalabels\";\n\nfunction BarChart(props) {\n  const [data, setData] = useState({});\n\n  useEffect(() => {\n    // console.log(\"Data :\", props);\n    setData({\n      // prettier-ignore\n      labels: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\" , \"July\" , \"August\", \"September\", \"October\" ,\"November\" ,\"December\"],\n      datasets: [\n        {\n          type: \"line\",\n          label: props.MainLabel,\n          borderColor: \"rgb(54, 162, 235)\",\n          borderWidth: 1,\n          fill: false,\n          // prettier-ignore\n          data: [\n            props.Total, props.Total, props.Total, props.Total, props.Total, props.Total, props.Total, props.Total, props.Total, props.Total, props.Total, props.Total, ],\n        },\n        {\n          label: props.SubLabel,\n          backgroundColor: [\n            \"rgba(255, 99, 132, 0.2)\",\n            \"rgba(255, 159, 64, 0.2)\",\n            \"rgba(255, 205, 86, 0.2)\",\n            \"rgba(75, 192, 192, 0.2)\",\n            \"rgba(54, 162, 235, 0.2)\",\n            \"rgba(153, 102, 255, 0.2)\",\n            \"rgba(201, 203, 207, 0.2)\",\n            \"rgba(255, 99, 132, 0.2)\",\n            \"rgba(255, 159, 64, 0.2)\",\n            \"rgba(255, 205, 86, 0.2)\",\n            \"rgba(75, 192, 192, 0.2)\",\n            \"rgba(54, 162, 235, 0.2)\",\n          ],\n          borderColor: [\n            \"rgb(255, 99, 132)\",\n            \"rgb(255, 159, 64)\",\n            \"rgb(255, 205, 86)\",\n            \"rgb(75, 192, 192)\",\n            \"rgb(54, 162, 235)\",\n            \"rgb(153, 102, 255)\",\n            \"rgb(201, 203, 207)\",\n            \"rgb(255, 99, 132)\",\n            \"rgb(255, 159, 64)\",\n            \"rgb(255, 205, 86)\",\n            \"rgb(75, 192, 192)\",\n            \"rgb(54, 162, 235)\",\n          ],\n          // borderColor: \"rgba(0,0,0,1)\",\n          borderWidth: 1,\n          // data: [65, -59, 80, 81, 56],\n          data: props.data,\n        },\n      ],\n    });\n  }, [props]);\n\n  return (\n    <div>\n      <Bar\n        data={data}\n        options={{\n          title: {\n            display: true,\n            text: props.MainLabel,\n            fontSize: 20,\n          },\n          //No Display legend in the page\n          legend: {\n            display: false,\n            position: \"right\",\n          },\n          scales: {\n            yAxes: [\n              {\n                ticks: {\n                  callback: function (value) {\n                    return (\n                      \"$\" +\n                      value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n                    );\n                  },\n                },\n              },\n            ],\n          },\n          tooltips: {\n            callbacks: {\n              label: function (tooltipItem, data) {\n                return (\n                  \"$\" +\n                  Number(tooltipItem.yLabel)\n                    .toFixed(0)\n                    .replace(/./g, function (c, i, a) {\n                      return i > 0 && c !== \".\" && (a.length - i) % 3 === 0\n                        ? \",\" + c\n                        : c;\n                    })\n                );\n              },\n            },\n          },\n          plugins: {\n            datalabels: {\n              display: false,\n              color: \"red\",\n            },\n          },\n        }}\n      />\n    </div>\n  );\n}\n\nexport default BarChart;\n","import React from \"react\";\nimport \"./ListItemOutcome.css\";\n\nfunction ListItemOutcome(props) {\n  return (\n    // prettier-ignore\n    <div className={\"outcomeItemContainer\"}>\n        <div className={\"dateContainer\"}>\n          {/*prettier-ignore*/}\n          {props.OutcomeItem.Day}/{props.OutcomeItem.Month}/\n          {props.OutcomeItem.Year}\n        </div>\n        <div className={\"outcomeContainer\"}>\n          {props.OutcomeItem.Outcome.toLocaleString(\"en-US\", {\n           style: \"decimal\",\n          currency: \"USD\",\n          })}\n        </div>\n    </div>\n  );\n}\n\nexport default ListItemOutcome;\n","import React, { useEffect, useState } from \"react\";\nimport \"./AnnuallOutcome.css\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport CurrencyFormat from \"react-currency-format\";\nimport db from \"../firebase\";\nimport Stack from \"@mui/material/Stack\";\nimport AdapterDateFns from \"@mui/lab/AdapterDateFns\";\nimport LocalizationProvider from \"@mui/lab/LocalizationProvider\";\nimport DesktopDatePicker from \"@mui/lab/DesktopDatePicker\";\nimport Chart from \"../Chart/BarChart\";\nimport ListItemOutcome from \"./ListItemOutcome\";\nimport { VNCurrency } from \"../Functions\";\n\nfunction AnnuallOutcome() {\n  const [year, setYear] = useState(\"Outcome\");\n  const [dateOutcome, setDateOutcome] = React.useState(new Date());\n  const [TotalOutcomes, setTotalOutcomes] = useState([]);\n  const [BeforeTotalOutcomes, setBeforeTotalOutcomes] = useState([]);\n  const [IsAddOutcome, setIsAddOutcome] = useState(false);\n  // let TotalOutcome = 10000000;\n\n  let TotalOutcome = TotalOutcomes.reduce(function (prev, cur) {\n    return prev + cur.Outcome;\n  }, 0);\n\n  let BeforeTotalOutcome = BeforeTotalOutcomes.reduce(function (prev, cur) {\n    return prev + cur.Outcome;\n  }, 0);\n\n  function OutcomeTotalPerMonth(i) {\n    let GainTotal = TotalOutcomes.reduce(function (prev, cur) {\n      if (cur.Month === i) {\n        return prev + cur.Outcome;\n      } else {\n        return prev;\n      }\n    }, 0);\n    return parseInt(GainTotal);\n  }\n\n  const ShowOutcome = (items) =>\n    items &&\n    items.map((item, index) => (\n      <div key={index}>\n        <div>\n          <ListItemOutcome OutcomeItem={item} />\n        </div>\n      </div>\n    ));\n\n  // Do at load page and each time year change\n  useEffect(() => {\n    //  Get data from Firebase\n    let now = new Date();\n    let BeforeYear = now.getFullYear() - 1;\n    if (year === \"Outcome\") {\n      db.collection(\"Outcome\" + now.getFullYear())\n        .orderBy(\"Month\", \"asc\")\n        .orderBy(\"Day\", \"asc\")\n        .onSnapshot((snapshot) => {\n          setTotalOutcomes(snapshot.docs.map((doc) => doc.data()));\n        });\n    } else {\n      db.collection(year)\n        .orderBy(\"Month\", \"asc\")\n        .orderBy(\"Day\", \"asc\")\n        .onSnapshot((snapshot) => {\n          setTotalOutcomes(snapshot.docs.map((doc) => doc.data()));\n        });\n      BeforeYear = parseInt(year.substr(6, 4)) - 1;\n    }\n    db.collection(\"Outcome\" + BeforeYear)\n      .orderBy(\"Month\", \"asc\")\n      .orderBy(\"Day\", \"asc\")\n      .onSnapshot((snapshot) => {\n        setBeforeTotalOutcomes(snapshot.docs.map((doc) => doc.data()));\n      });\n  }, [year]);\n\n  useEffect(() => {\n    const now = new Date();\n    const BeforeYear = now.getFullYear() - 1;\n    // console.log(BeforeYear);\n    // console.log(\"Outcome\" + BeforeYear);\n    setYear(\"Outcome\" + now.getFullYear());\n    db.collection(\"Outcome\" + BeforeYear)\n      .orderBy(\"Month\", \"asc\")\n      .orderBy(\"Day\", \"asc\")\n      .onSnapshot((snapshot) => {\n        setBeforeTotalOutcomes(snapshot.docs.map((doc) => doc.data()));\n      });\n    // console.log(BeforeTotalOutcomes);\n  }, []);\n\n  const datehandleChange = (newValue) => {\n    setDateOutcome(newValue);\n    // console.log(dateOutcome.getFullYear());\n  };\n\n  const addOutcomeclick = (e) => {\n    e.preventDefault();\n    // console.log(\n    //   parseFloat(document.getElementById(\"OutcomeID\").value.replace(\",\", \".\"))\n    // );\n    // console.log(year);\n    db.collection(year).add({\n      Outcome: parseFloat(\n        document.getElementById(\"OutcomeID\").value.replaceAll(\",\", \"\")\n      ),\n      Day: dateOutcome.getDate(),\n      Month: dateOutcome.getMonth() + 1,\n      Year: dateOutcome.getFullYear(),\n    });\n    setIsAddOutcome(true);\n    // const timeout = setTimeout(() => {\n    //   setIsAddOutcome(false);\n    //   console.log(IsAddOutcome);\n    // }, 3000);\n    // console.log(dateOutcome.getMonth());\n  };\n\n  function YearButton(year) {\n    // console.log(\"Outcome\" + year);\n    return (\n      <div>\n        <button className=\"YearButton\" onClick={() => setYear(\"Outcome\" + year)}>\n          {year}\n        </button>\n      </div>\n    );\n  }\n\n  function OutcomePerMonth() {\n    return (\n      <div className=\"Month_all\">\n        <div className=\"Month\">\n          <div className=\"Month_text\">January :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(OutcomeTotalPerMonth(1))}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">February :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(OutcomeTotalPerMonth(2))}\n          </div>\n        </div>\n        <div className=\"Month\">\n          <div className=\"Month_text\">March :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(OutcomeTotalPerMonth(3))}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">April :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(OutcomeTotalPerMonth(4))}\n          </div>\n        </div>\n        <div className=\"Month\">\n          <div className=\"Month_text\">May :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(OutcomeTotalPerMonth(5))}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">June :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(OutcomeTotalPerMonth(6))}\n          </div>\n        </div>\n        <div className=\"Month\">\n          <div className=\"Month_text\">July :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(OutcomeTotalPerMonth(7))}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">August :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(OutcomeTotalPerMonth(8))}\n          </div>\n        </div>\n        <div className=\"Month\">\n          <div className=\"Month_text\">September :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(OutcomeTotalPerMonth(9))}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">October :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(OutcomeTotalPerMonth(10))}\n          </div>\n        </div>\n        <div className=\"Month\">\n          <div className=\"Month_text\">November :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(OutcomeTotalPerMonth(11))}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">December :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(OutcomeTotalPerMonth(12))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div style={{ color: \"blue\", display: \"flex\", marginLeft: 10 }}>\n        <Link to=\"/\">\n          <div>\n            <span className=\"Header-cartCount\">Main</span>\n          </div>\n        </Link>\n        {YearButton(\"2024\")}\n        {/*{YearButton(\"2023\")}*/}\n        {/*{YearButton(\"2022\")}*/}\n      </div>\n      {/*prettier-ignore*/}\n      <div style={{ color: \"blue\", display: \"flex\", width: \"700px\" ,fontWeight : \"bold\", marginLeft:\"10px\" , marginTop : \"10px\" }}>\n        <div>Total Outcome: </div>\n        {/*prettier-ignore*/}\n        <div style={{marginLeft:\"10px\",marginRight : \"10px\"}}>{VNCurrency(TotalOutcome)} ({VNCurrency(TotalOutcome/12)})</div>\n        <div style={{marginLeft:\"10px\",marginRight : \"10px\"}}>({VNCurrency(TotalOutcome - BeforeTotalOutcome ) })</div>\n      {/*    {\n            parseInt(TotalOutcome/12).toLocaleString(\"en-US\", {style: \"decimal\",currency: \"USD\",})}*/}\n      </div>\n      {/*  Input Area*/}\n      <div className=\"input-container\">\n        <div>\n          <LocalizationProvider dateAdapter={AdapterDateFns}>\n            <Stack spacing={3}>\n              <DesktopDatePicker\n                label=\"Date Outcome\"\n                inputFormat=\"MM/dd/yyyy\"\n                value={dateOutcome}\n                onChange={datehandleChange}\n                renderInput={(params) => <TextField {...params} />}\n              />\n            </Stack>\n          </LocalizationProvider>\n        </div>\n\n        <CurrencyFormat\n          id=\"OutcomeID\"\n          label=\"Outcome\"\n          customInput={TextField}\n          thousandSeparator\n          prefix=\"\"\n          style={{ marginTop: 10, fontSize: \"12px\", marginLeft: 10 }}\n          // decimalScale={0}\n          variant=\"outlined\"\n          size=\"small\"\n          // onChange={handleNewAmount}\n        />\n        <Button\n          variant=\"outlined\"\n          style={{ marginTop: 10, fontSize: \"12px\", marginLeft: 10 }}\n          size=\"small\"\n          onClick={addOutcomeclick}\n        >\n          Add Outcome\n        </Button>\n      </div>\n      {/*Chart Outcome per month*/}\n      <div>\n        <Chart\n          data={[\n            OutcomeTotalPerMonth(1),\n            OutcomeTotalPerMonth(2),\n            OutcomeTotalPerMonth(3),\n            OutcomeTotalPerMonth(4),\n            OutcomeTotalPerMonth(5),\n            OutcomeTotalPerMonth(6),\n            OutcomeTotalPerMonth(7),\n            OutcomeTotalPerMonth(8),\n            OutcomeTotalPerMonth(9),\n            OutcomeTotalPerMonth(10),\n            OutcomeTotalPerMonth(11),\n            OutcomeTotalPerMonth(12),\n          ]}\n          // Total={TotalOutcome}\n          Total={TotalOutcome / 12}\n          MainLabel=\"Total Outcome\"\n          SubLabel=\"Outcome Per Month\"\n        />\n      </div>\n      {/*  List Outcome per month*/}\n      <div style={{ marginLeft: \"10px\", marginBottom: \"10px\" }}>\n        {OutcomePerMonth()}\n      </div>\n      {/*    List all Outcome*/}\n      <div className=\"anualOutcomeCard\">{ShowOutcome(TotalOutcomes)}</div>\n      {/*prettier-ignore*/}\n      <div  className= {IsAddOutcome ? \"alert alert-success connection-alert connected-alert text-center fadeIn\":  \"fadeOut\"}>\n            <strong>Added!</strong>\n        </div>\n    </div>\n  );\n}\n\nexport default AnnuallOutcome;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport \"./Realtime.css\";\nimport { useStateValue } from \"../StateProvider\";\nimport { strimstring, useInterval } from \"./Functions\";\n// import { getCurrentDate, strimstring, useInterval } from \"./Functions\";\nimport VnIndexChart from \"./VNIndexChart\";\n// import ReactSession from \"./Utils/ReactSession\";\nimport db from \"./firebase\";\n\nimport ListComponent from \"./ListComponent\";\nimport { Link } from \"react-router-dom\";\nimport AnnuallOutcome from \"./AnuallOutcome/AnnuallOutcome\";\n\n//index link: https://bgapidatafeed.vps.com.vn/getlistindexdetail/10\n\nfunction Realtime() {\n  // let socketLink = \"https://bgdatafeed.vps.com.vn/\";\n  const [NewStockValue, setNewStockValue] = useState(\"Begin\");\n  const [StockItems, setStockItems] = useState([]);\n  const [VNIndex, setVNIndex] = useState([]);\n  const [matchStockValue, setmatchStockValue] = useState([]);\n  // const matchStockValue = [];\n  // const [WebSocketInitState, setWebSocketInitState] = useState(false);\n  // prettier-ignore\n  // const [{ socket   , currentstockprice }, dispatch] = useStateValue();\n  const [{ socket    }, dispatch] = useStateValue();\n  // prettier-ignore\n  // const [Stocklist, setStocklist] = useState(JSON.parse(localStorage.getItem(\"stockid\")));\n  const [Stocklist, setStocklist] = useState([\"FRT\",\"CEO\",\"DIG\",\"BID\",\"VCB\"]);\n  // const [Stocklist, setStocklist] = useState([]);\n  const [InitStockItems, setInitStockItems] = useState(false);\n  const [IsConnected, setIsConnected] = useState(false);\n  const [BuyStocksTemp, setBuyStocksTemp] = useState([]);\n\n  const isStockItems = useRef(false);\n  const isFirstRef = useRef(true);\n  const isNewStockItems = useRef(false);\n\n  // const temparray = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]; // some list of items\n\n  useEffect(() => {\n    if (isNewStockItems.current) {\n      // Initialize stock items\n      initStockItems();\n\n      // Update local storage with Stocklist\n      localStorage.setItem(\"stockid\", JSON.stringify(Stocklist));\n\n      // Reset isNewStockItems flag\n      isNewStockItems.current = false;\n    }\n    // đăng ký lại room\n    let msg = '{\"action\":\"join\",\"list\":\"' + Stocklist.join(\",\") + '\"}';\n    // console.log(msg);\n    // console.log(ReactSession.get(\"Stock_List\"));\n    socket.emit(\"regs\", msg);\n    console.log(\"CONNECTED\");\n    // Update UI to indicate connection status\n    setIsConnected(true);\n    const connectioncircleID = document.querySelector(\"#connectioncircle\");\n    if (connectioncircleID) {\n      connectioncircleID.style.backgroundColor = \"blue\";\n    }\n    // Set a timeout to reset isConnected state after 3 seconds\n    const timeout = setTimeout(() => {\n      setIsConnected(false);\n    }, 3000);\n\n    // Clean up the timeout to avoid memory leaks\n    return () => clearTimeout(timeout);\n\n    // Dependency array ensures useEffect runs when Stocklist changes\n  }, [Stocklist]);\n\n  // let socket;\n  // initWebsocket();\n  // socketConnect();\n  useEffect(() => {\n    //for the first render\n    if (isFirstRef.current) {\n      console.log(\"First Render\");\n      //Get stock list in brower\n      const data = JSON.parse(localStorage.getItem(\"stockid\"));\n      // console.log(\"StockID: \" + data);\n      //if has data, update to new list\n      if (data) {\n        setStocklist(data);\n        isNewStockItems.current = true;\n        // console.log(\"StockID: \" + data);\n      }\n      initStockItems();\n      getVNindex();\n      isFirstRef.current = false;\n      isStockItems.current = true;\n      socketConnect();\n      //firebase get buy stock to add stock list\n      db.collection(\"Stocks\")\n        .orderBy(\"IsSold\")\n        .startAt(false)\n        .endAt(false)\n        .onSnapshot((snapshot) => {\n          // console.log(\"Test\");\n          // console.log(snapshot.docs.map((doc) => doc.data()));\n          setBuyStocksTemp(snapshot.docs.map((doc) => doc.data()));\n        });\n\n      return;\n    }\n  }, []);\n\n  useEffect(() => {\n    BuyStocksTemp.forEach((item) => {\n      if (item.MaCK !== \"\") {\n        let index = Stocklist.findIndex((stock) => stock === item.MaCK);\n\n        if (index === -1) {\n          setStocklist((currentStocklist) => [item.MaCK, ...currentStocklist]);\n          isNewStockItems.current = true;\n          console.log(\"Added new stock:\", item.MaCK);\n        } else {\n          console.log(\"Stock already exists:\", item.MaCK);\n        }\n      }\n    });\n  }, [BuyStocksTemp]);\n\n  useEffect(() => {\n    StockItems.forEach((item) => {\n      dispatch({\n        type: \"UPDATE_TO_CURRENTSTOCKPRICE\",\n        item: {\n          sym: item.sym,\n          lastPrice: item.lastPrice,\n        },\n      });\n    });\n  }, [StockItems, dispatch]);\n\n  async function getdata() {\n    try {\n      console.log(\"Before fetching data\", Stocklist);\n\n      const response = await fetch(\n        \"https://bgapidatafeed.vps.com.vn/getliststockdata/\" +\n          Stocklist.join(\",\")\n      );\n\n      const body = await response.json();\n      console.log(\"Fetched data\", body);\n\n      if (body !== undefined) {\n        setStockItems(body);\n        console.log(\"After updating StockItems\", body);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch data:\", error);\n    }\n  }\n\n  // prettier-ignore\n  function socketConnect() {\n    socket.on(\"board\", function (zdata) {\n      // sendQueue(zdata.data);\n      // console.log(\"board:\", zdata.data);\n      //Cap nhat thong tin bang gia\n      // 42[\"board\",{\"data\":{\"id\":3210,\"sym\":\"REE\",\"side\":\"S\",\"g1\":\"34.90|314|i\",\"g2\":\"35.00|1|i\",\"g3\":\"35.10|259|i\",\"vol4\":0}}]\n      //42[\"board\",{\"data\":{\"id\":3310,\"sym\":\"VCG\",\"BVolume\":43820,\"SVolume\":28860,\"Total\":13770,\"AvePrice\":17.2,\"APColor\":\"e\"}}]\n      // console.log(InitStockItems);\n\n      // console.log(zdata.data);\n      // console.log(isStockItems.current);\n      if (isStockItems.current && document.getElementById(\"MainCheck\")) {\n        updateStock(zdata.data);\n      }\n    });\n\n    socket.on(\"index\", function (zdata) {\n      // console.log(zdata.data);\n    });\n    //Nếu khớp lệnh trả về thông tin khớp, chỉ trả về thông tin mã khớp\n    socket.on(\"stock\", function (zdata) {\n      if (isStockItems.current && document.getElementById(\"MainCheck\")) {\n        updateStockMatch(zdata.data);\n      }\n    });\n    socket.on(\"disconnect\", () => {\n      socket.removeAllListeners(); // Remove all event listeners from the socket\n      setIsConnected(false); // Update state to indicate socket is disconnected\n\n      const connectioncircleID = document.querySelector(\"#connectioncircle\");\n      if (connectioncircleID) {\n        connectioncircleID.style.backgroundColor = \"gray\";\n      }\n    });\n  }\n\n  useInterval(() => {\n    getVNindex();\n  }, 60000);\n\n  //thiet lap vong lap lay du lieu\n\n  // prettier-ignore\n  async function getVNindex() {\n    try {\n      const response = await fetch(\"https://bgapidatafeed.vps.com.vn/getlistindexdetail/10\");\n      const body = await response.json();\n\n      if (body !== undefined && body.length > 0) {\n        const indexData = body[0];\n        const [chg, pct, tval] = indexData.ot.split(\"|\");\n\n        const tempindex = {\n          ...VNIndex,\n          idx: indexData.cIndex,\n          idxopen: indexData.oIndex,\n          idxchg: chg,\n          idxpct: pct,\n          tval: tval,\n          tvol: indexData.vol,\n          status: indexData.status\n        };\n\n        setVNIndex(tempindex);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch VN index data:\", error);\n    }\n  }\n\n  //prettier-ignore\n  async function initStockItems() {\n    console.log(\"Fetching stock data\");\n\n    try {\n      const response = await fetch(`https://bgapidatafeed.vps.com.vn/getliststockdata/${Stocklist.join(\",\")}`);\n      const body = await response.json();\n\n      if (body !== undefined) {\n        setStockItems(() => body);\n      }\n\n      setInitStockItems(true);\n    } catch (error) {\n      console.error(\"Failed to fetch stock data:\", error);\n    }\n  }\n\n  //Cap nhat thong tin ve bang gia, neu ben ban thi la S, mua la B\n  const updateElementContent = (selector, newContent) => {\n    const element = document.querySelector(selector);\n    if (element && element.innerHTML !== newContent) {\n      changeBackground(selector);\n      element.innerHTML = newContent;\n    }\n  };\n  //Cap nhat thong tin ve bang gia, neu ben ban thi la S, mua la B\n  //prettier-ignore\n  function updateStock(item) {\n    //Neu gia khop la san ha noi se co id la 3310 voi thong tin tong mua, ban ngoai bang\n    // if (item.id === 3310) console.log(\"Board\", item);\n    // if (item.id != 3310 && item.id != 3210) console.log(\"Board\", item);\n    // du kien khop lenh ma 3220\n    //Realtime.js:272 Board {id: 3220, sym: \"TCM\", lastPrice: 74, lastVol: 0, cl: \"d\", …\n    // console.log(\"cap nhat thong tin bang gia:\", InitStockItems);\n    //\n    // console.log(\"Board\", item);\n    //Khop lenh ma 3210\n    //prettier-ignore\n    if (document.querySelector(\"#\" + item.sym)) {\n      if (isStockItems.current === true) {\n        if (item.id === 3210) {\n          // console.log(item.side);\n          if (item.side === \"B\") {\n          //buy 1\n            updateElementContent(\"#\" + item.sym + \"-g1-vol\", strimstring(item.g1.split(\"|\")[1]));\n            updateElementContent(\"#\" + item.sym + \"-g1-price\", (item.g1.split(\"|\")[0]));\n            changeColorBuySell ((\"#\" + item.sym + \"-g1\"), ColorPrice(item.g1.split(\"|\")[0],document.querySelector(\"#\" +item.sym + \"-r\").innerHTML,document.querySelector(\"#\" +item.sym + \"-f\").innerHTML,document.querySelector(\"#\" +item.sym + \"-c\").innerHTML))\n            //buy 2\n            updateElementContent(\"#\" + item.sym + \"-g2-vol\", strimstring(item.g2.split(\"|\")[1]));\n            updateElementContent(\"#\" + item.sym + \"-g2-price\", (item.g2.split(\"|\")[0]));\n            changeColorBuySell ((\"#\" + item.sym + \"-g2\"), ColorPrice(item.g2.split(\"|\")[0],document.querySelector(\"#\" +item.sym + \"-r\").innerHTML,document.querySelector(\"#\" +item.sym + \"-f\").innerHTML,document.querySelector(\"#\" +item.sym + \"-c\").innerHTML))\n            //buy 3\n            updateElementContent(\"#\" + item.sym + \"-g3-vol\", strimstring(item.g3.split(\"|\")[1]));\n            updateElementContent(\"#\" + item.sym + \"-g3-price\", (item.g3.split(\"|\")[0]));\n            changeColorBuySell ((\"#\" + item.sym + \"-g3\"), ColorPrice(item.g3.split(\"|\")[0],document.querySelector(\"#\" +item.sym + \"-r\").innerHTML,document.querySelector(\"#\" +item.sym + \"-f\").innerHTML,document.querySelector(\"#\" +item.sym + \"-c\").innerHTML))\n          } else {\n            //buy 4\n            updateElementContent(\"#\" + item.sym + \"-g4-vol\", strimstring(item.g1.split(\"|\")[1]));\n            updateElementContent(\"#\" + item.sym + \"-g4-price\", (item.g1.split(\"|\")[0]));\n            changeColorBuySell ((\"#\" + item.sym + \"-g4\"), ColorPrice(item.g1.split(\"|\")[0],document.querySelector(\"#\" +item.sym + \"-r\").innerHTML,document.querySelector(\"#\" +item.sym + \"-f\").innerHTML,document.querySelector(\"#\" +item.sym + \"-c\").innerHTML))\n            //buy 5\n            updateElementContent(\"#\" + item.sym + \"-g5-vol\", strimstring(item.g2.split(\"|\")[1]));\n            updateElementContent(\"#\" + item.sym + \"-g5-price\", (item.g2.split(\"|\")[0]));\n            changeColorBuySell ((\"#\" + item.sym + \"-g5\"), ColorPrice(item.g2.split(\"|\")[0],document.querySelector(\"#\" +item.sym + \"-r\").innerHTML,document.querySelector(\"#\" +item.sym + \"-f\").innerHTML,document.querySelector(\"#\" +item.sym + \"-c\").innerHTML))\n            //buy 6\n            updateElementContent(\"#\" + item.sym + \"-g6-vol\", strimstring(item.g3.split(\"|\")[1]));\n            updateElementContent(\"#\" + item.sym + \"-g6-price\", (item.g3.split(\"|\")[0]));\n            changeColorBuySell ((\"#\" + item.sym + \"-g6\"), ColorPrice(item.g3.split(\"|\")[0],document.querySelector(\"#\" +item.sym + \"-r\").innerHTML,document.querySelector(\"#\" +item.sym + \"-f\").innerHTML,document.querySelector(\"#\" +item.sym + \"-c\").innerHTML))\n          }\n        }\n        //{\"id\":3220,\"sym\":\"TCB\",\"lastPrice\":25.3,\"lastVol\":100,\"cl\":\"i\",\"change\":\"0.50\",\"changePc\":\"2.02\",\"totalVol\":108810,\"time\":\"10:49:56\",\"hp\":25.3,\"ch\":\"i\",\"lp\":24.9,\"lc\":\"i\",\"ap\":25.1,\"ca\":\"i\"}\n        else if (item.id === 3220) {\n          //Check if still in Main Page then update match value\n          updateStockMatch(item);\n        }\n      }\n    }\n  }\n  // prettier-ignore\n  function updateWebpageTitle(item) {\n    const titleElement = document.querySelector(`#${item.sym}-lastPrice`);\n    if (titleElement) {\n      document.title = `${titleElement.innerHTML}|${document.querySelector(`#${item.sym}-changePc`).innerHTML}`;\n    }\n\n    const link = document.querySelector(\"link[rel~='icon']\") || document.createElement(\"link\");\n    link.rel = \"icon\";\n    document.head.appendChild(link);\n\n    const referencePrice = parseFloat(document.querySelector(`#${item.sym}-r`).innerHTML);\n    const lastPrice = parseFloat(item.lastPrice);\n\n    if (lastPrice < referencePrice) {\n      link.href = \"https://cdn0.iconfinder.com/data/icons/Hand_Drawn_Web_Icon_Set/128/arrow_down.png\";\n    } else if (lastPrice === referencePrice) {\n      link.href = \"https://cdn1.iconfinder.com/data/icons/smallicons-controls/32/614357-.svg-1024.png\";\n    } else {\n      link.href = \"https://cdn4.iconfinder.com/data/icons/business-and-finance-colorful-free-hand-drawn-set/100/growth-1024.png\";\n    }\n  }\n  //Cap nhat thong tin ve bang gia, neu ben ban thi la S, mua la B\n  // prettier-ignore\n  async function updateStockMatch(item) {\n    // Example item: {\"id\":3220,\"sym\":\"TCB\",\"lastPrice\":25.3,\"lastVol\":100,\"cl\":\"i\",\"change\":\"0.50\",\"changePc\":\"2.02\",\"totalVol\":108810,\"time\":\"10:49:56\",\"hp\":25.3,\"ch\":\"i\",\"lp\":24.9,\"lc\":\"i\",\"ap\":25.1,\"ca\":\"i\"}\n    let date = new Date();\n    let hours = date.getHours();\n    let minutes = date.getMinutes();\n    let seconds = date.getSeconds();\n    let tempID;\n    if (item.time) {\n      //Set match value into array\n      setmatchStockValue((prevArr) => [\n        ...prevArr,\n        {\n          stockid: item.sym,\n          stockside: item.side,\n          timematch: item.time.substring(0, 5),\n          volumematch: item.lastVol,\n          pricematch: item.lastPrice,\n        },\n      ]);\n    }\n    // Update string data in the bottom of the website\n    setNewStockValue(`${hours}:${minutes}:${seconds}: ${JSON.stringify(item)}`);\n    // Dispatch updated stock price\n    //update thông tin giá các mã đã mua\n    dispatch({\n      type: \"UPDATE_TO_CURRENTSTOCKPRICE\",\n      item: {\n        sym: item.sym,\n        lastPrice: item.lastPrice,\n      },\n    });\n    //uddate thong tin ck\n    // console.log(item);\n    // Change the title of the webpage if the stock symbol is CEO\n    if (item.sym === \"CEO\") {\n      updateWebpageTitle(item);\n    }\n\n    // Update DOM elements\n    updateDomElement(\"#\" + item.sym + \"-ot\", item.change);\n    updateDomElement(\"#\" + item.sym + \"-lastPrice\", item.lastPrice,true);\n    updateDomElement(\"#\" + item.sym + \"-lastVolume\", strimstring(item.lastVol.toString()));\n    updateDomElement(\"#\" + item.sym + \"-changePc\", item.changePc + \"%\");\n    updateDomElement(\"#\" + item.sym + \"-lot\", strimstring(item.totalVol.toString()));\n    tempID = document.querySelector(\"#\" + item.sym + \"-Max\");\n    if (tempID && tempID.innerHTML !== item.hp) {\n      tempID.innerHTML = item.hp;\n      changeBackground(\"#\" + item.sym + \"-Max\");\n      changeColorBuySell((\"#\" + item.sym + \"-MaxAll\"),ColorPrice(item.hp,document.querySelector(\"#\" +item.sym + \"-r\").innerHTML,document.querySelector(\"#\" +item.sym + \"-f\").innerHTML,document.querySelector(\"#\" +item.sym + \"-c\").innerHTML))\n    }\n    // tempstock.highPrice = item.hp;\n    tempID = document.querySelector(\"#\" + item.sym + \"-Min\");\n    if (tempID && tempID.innerHTML !== item.hp) {\n      tempID.innerHTML = item.lp;\n      changeBackground(\"#\" + item.sym + \"-Min\");\n      changeColorBuySell((\"#\" + item.sym + \"-MinAll\"),ColorPrice(item.lp,document.querySelector(\"#\" +item.sym + \"-r\").innerHTML,document.querySelector(\"#\" +item.sym + \"-f\").innerHTML,document.querySelector(\"#\" +item.sym + \"-c\").innerHTML))\n    }\n  }\n  // prettier-ignore\n  function updateDomElement(selector, newValue, isNumeric = false) {\n    const element = document.querySelector(selector);\n    // console.log(newValue + \"|\" + selector)\n    if (element && element.innerHTML !== (isNumeric ? parseFloat(newValue) : newValue)) {\n      element.innerHTML = newValue;\n      changeBackground(selector);\n    }\n  }\n\n  function ColorText(item1, item2) {\n    //{{ color: item.lastPrice < item.r ? \"red\" : item.lastPrice > item.r ? \"blue\" : item.lastPrice = item.c ? \"#ff25ff\" : item.lastPrice = item.f ? \"#1eeeee\" : \"black\", }}\n    if (parseFloat(item1) === item2.f) {\n      return \"txt-gia-san\";\n    } else if (parseFloat(item1) === item2.c) {\n      return \"txt-gia-tran\";\n    } else if (parseFloat(item1) === 0) {\n      return \"txt-gia-tc\";\n    } else if (parseFloat(item1) < item2.r) {\n      return \"txt-gia-thap\";\n    } else if (parseFloat(item1) > item2.r) {\n      return \"txt-gia-cao\";\n    } else {\n      return \"txt-gia-tc\";\n    }\n  }\n  function ColorPrice(pricenew, pricer, pricef, pricec) {\n    //{{ color: item.lastPrice < item.r ? \"red\" : item.lastPrice > item.r ? \"blue\" : item.lastPrice = item.c ? \"#ff25ff\" : item.lastPrice = item.f ? \"#1eeeee\" : \"black\", }}\n    // console.log(pricenew, pricer);\n    if (parseFloat(pricenew) === parseFloat(pricef)) {\n      return \"txt-gia-san\";\n    } else if (parseFloat(pricenew) === parseFloat(pricec)) {\n      return \"txt-gia-tran\";\n    } else if (parseFloat(pricenew) === parseFloat(pricer)) {\n      return \"txt-gia-tc\";\n    } else if (parseFloat(pricenew) < parseFloat(pricer)) {\n      return \"txt-gia-thap\";\n    } else if (parseFloat(pricenew) > parseFloat(pricer)) {\n      return \"txt-gia-cao\";\n    }\n  }\n\n  const StockRows = (arr) =>\n    arr &&\n    arr.map((item, index) => (\n      <div className=\"stockCard\" key={index}>\n        {/*prettier-ignore*/}\n        <div className={ \"stockCard__Header \" +  ColorText(item.lastPrice, item) } id = {item.sym} >\n          <div>{item.sym}</div>\n          <div className=\"backgroundwhite\" id = {item.sym + \"-ot\"} >{item.ot}</div>\n          <div className=\"backgroundwhite\" id = {item.sym + \"-lastPrice\"}>{item.lastPrice}</div>\n          <div className=\"backgroundwhite\" id = {item.sym + \"-lastVolume\"}>{strimstring(item.lastVolume.toString())}</div>\n          <div className=\"backgroundwhite\" id = {item.sym + \"-changePc\"}>{item.changePc}%</div>\n          <div className=\"backgroundwhite\" id = {item.sym + \"-lot\"}>{strimstring(item.lot.toString())}</div>\n          {/*//tham chieu*/}\n          <div  className= {  \"fadeOut\"} id = {item.sym + \"-r\"}>{item.r} </div>\n          {/*//san*/}\n          <div  className= {  \"fadeOut\"} id = {item.sym + \"-f\"}>{item.f} </div>\n          {/*//tran*/}\n          <div  className= {  \"fadeOut\"} id = {item.sym + \"-c\"}>{item.c} </div>\n        </div>\n        <div className=\"stockCard__Buy\">\n          <div className=\"BuyAmount\">\n            <div>Volume</div> <div>Bid</div>\n          </div>\n          {/*prettier-ignore*/}\n          <div className={\"BuyAmount \" + ColorText(item.g1.split(\"|\")[0], item)} id = {item.sym + \"-g1\"}>\n            <div className=\"backgroundwhite\" id = {item.sym + \"-g1-vol\"}>{strimstring(item.g1.split(\"|\")[1])}</div>\n            <div className=\"backgroundwhite\" id = {item.sym + \"-g1-price\"}>{item.g1.split(\"|\")[0]}</div>\n          </div>\n          {/*prettier-ignore*/}\n          <div className={\"BuyAmount \" + ColorText(item.g2.split(\"|\")[0], item)} id = {item.sym + \"-g2\"}>\n            <div className=\"backgroundwhite \" id = {item.sym + \"-g2-vol\"}>{strimstring(item.g2.split(\"|\")[1])}</div>\n            <div className=\"backgroundwhite \" id = {item.sym + \"-g2-price\"}>{item.g2.split(\"|\")[0]}</div>\n          </div>\n          {/*prettier-ignore*/}\n          <div className={\"BuyAmount \" + ColorText(item.g3.split(\"|\")[0], item)} id = {item.sym + \"-g3\"}>\n            <div className=\"backgroundwhite \" id = {item.sym + \"-g3-vol\"}>{strimstring(item.g3.split(\"|\")[1])}</div>\n            <div className=\"backgroundwhite \" id = {item.sym + \"-g3-price\"}>{item.g3.split(\"|\")[0]}</div>\n          </div>\n          {/*prettier-ignore*/}\n          <div className={\"BuyAmount \"+ ColorText(item.lowPrice, item) + \" backgroundwhite\"} id = {item.sym + \"-MinAll\"} style={{  borderTopWidth: 1, borderTopColor: \"#A9A9A9\",borderTopStyle: \"solid\",}}>\n            <div>Min</div> <div  id = {item.sym + \"-Min\"}>{item.lowPrice}</div>\n          </div>\n        </div>\n        <div className=\"stockCard__Sell\">\n          <div className=\"BuyAmount\">\n            <div>Volume</div> <div>Ask</div>\n          </div>\n          {/*prettier-ignore*/}\n          <div className={\"SellAmount \" + ColorText(item.g4.split(\"|\")[0], item)} id = {item.sym + \"-g4\"}>\n            <div className=\"backgroundwhite \" id = {item.sym + \"-g4-vol\"}>{strimstring(item.g4.split(\"|\")[1])}</div>\n            <div className=\"backgroundwhite \" id = {item.sym + \"-g4-price\"}>{item.g4.split(\"|\")[0]}</div>\n          </div>\n          {/*prettier-ignore*/}\n          <div className={\"SellAmount \" + ColorText(item.g5.split(\"|\")[0], item)} id = {item.sym + \"-g5\"}>\n            <div className=\"backgroundwhite\" id = {item.sym + \"-g5-vol\"}>{strimstring(item.g5.split(\"|\")[1])}</div>\n            <div className=\"backgroundwhite\" id = {item.sym + \"-g5-price\"}>{item.g5.split(\"|\")[0]}</div>\n          </div>\n          {/*prettier-ignore*/}\n          <div className={\"SellAmount \" + ColorText(item.g6.split(\"|\")[0], item)} id = {item.sym + \"-g6\"}>\n            <div className=\"backgroundwhite \" id = {item.sym + \"-g6-vol\"}>{strimstring(item.g6.split(\"|\")[1])}</div>\n            <div  className=\"backgroundwhite \" id = {item.sym + \"-g6-price\"}>{item.g6.split(\"|\")[0]}</div>\n          </div>\n          {/*prettier-ignore*/}\n          <div className={\"BuyAmount \"+ ColorText(item.highPrice, item) + \" backgroundwhite\"} id = {item.sym + \"-MaxAll\"} style={{  borderTopWidth: 1, borderTopColor: \"#A9A9A9\",borderTopStyle: \"solid\",}}>\n            <div>Max</div> <div id = {item.sym + \"-Max\"}>{item.highPrice}</div>\n          </div>\n        </div>\n        <div>\n          <div className=\"stockCard__Match\">\n            <div>Match</div>\n            <div className=\"no-scrollbars\">\n              {/*{matchStockValue.filter((item) => item.stockid === \"CEO\")}*/}\n              {/*{matchStockValue.length}*/}\n              <ListComponent\n                // stockitem={temparray}\n                stockitem={matchStockValue.filter(\n                  (matchStockitem) => matchStockitem.stockid === item.sym\n                )}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    ));\n\n  //doi nen background sang gray khi co thay doi\n  function changeColorBuySell(divID, newStyle) {\n    const element = document.querySelector(divID);\n    if (element) {\n      const currentStyle = element.classList.item(1);\n      if (currentStyle !== newStyle) {\n        element.classList.replace(currentStyle, newStyle);\n      }\n    }\n  }\n\n  //doi nen background sang gray khi co thay doi\n  function changeBackground(divID) {\n    const element = document.querySelector(divID);\n    if (element) {\n      // Change background to gray\n      element.classList.replace(\"backgroundwhite\", \"backgroundgray\");\n\n      // Revert background to white after 3 seconds\n      setTimeout(() => {\n        element.classList.replace(\"backgroundgray\", \"backgroundwhite\");\n      }, 3000);\n    } else {\n      console.error(`Element with ID '${divID}' not found.`);\n    }\n  }\n\n  //Cap nhat thong tin ve khop lenh\n  // prettier-ignore\n  const addStockToListClick = async (e) => {\n    e.preventDefault(); // Prevent default form submission behavior\n\n    const tempStock = document.getElementById(\"stockcodeinput\").value.trim().toUpperCase(); // Get and clean the stock symbol input\n\n    if (tempStock) { // Ensure tempStock is not empty\n      const existingIndex = Stocklist.indexOf(tempStock);\n\n      if (existingIndex === -1) { // If the stock symbol is not already in the array\n        setStocklist((currentStocklist) => [tempStock, ...currentStocklist]); // Update Stocklist state by adding tempStock at the beginning\n        isNewStockItems.current = true; // Set a flag indicating new stock items have been added (assuming isNewStockItems is a useRef)\n      } else {\n        console.log(`${tempStock} is already in the list.`);\n      }\n    } else {\n      console.log(\"Please enter a valid stock symbol.\");\n    }\n  };\n\n  // prettier-ignore\n  const delStockFromListClick = (e) => {\n    e.preventDefault(); // Prevent default form submission behavior\n\n    const tempStock = document.getElementById(\"stockcodeinput\").value.trim().toUpperCase(); // Get and clean the stock symbol input\n\n    if (tempStock) { // Ensure tempStock is not empty\n      const index = Stocklist.indexOf(tempStock); // Find the index of the stock symbol in Stocklist\n\n      if (index !== -1) { // If the stock symbol is found in the array\n        const newArray = Stocklist.filter((item, idx) => idx !== index); // Create a new array excluding the item to be deleted\n        setStocklist(newArray); // Update Stocklist state with the new array\n        isNewStockItems.current = true; // Set a flag indicating new stock items have been modified (assuming isNewStockItems is a useRef)\n      } else {\n        console.log(`${tempStock} is not found in the list.`);\n      }\n    } else {\n      console.log(\"Please enter a valid stock symbol.\");\n    }\n  };\n\n  return (\n    <div>\n      {/* kiem tra co du lieu moi xuat ko bi loi */}\n      {/*prettier-ignore*/}\n      <div className=\"VNIndexContain\" id =\"MainCheck\">\n        <div>{<VnIndexChart />}</div>\n        <div className=\"VNIndexContent\" style={{ color: VNIndex.idx < VNIndex.idxopen ? \"red\" :  VNIndex.idx > VNIndex.idxopen ? \"blue\" : \"black\", }} >\n          {/*prettier-ignore*/}\n          <div className=\"VnIndex\">{VNIndex.idx !== undefined ? parseFloat(VNIndex.idx).toLocaleString(\"en-US\", { style: \"decimal\", currency: \"USD\", }) : \"0\"} </div>\n          {/*prettier-ignore*/}\n          <div className=\"VnIndex\">{VNIndex.idxchg !== undefined ? VNIndex.idxchg : \"0\"}   </div>\n          {/*prettier-ignore*/}\n          <div className=\"VnIndex\">{VNIndex.idxpct !== undefined ? VNIndex.idxpct : \"0\"}   </div>\n          {/*prettier-ignore*/}\n          <div className=\"VnIndex\">{VNIndex.tval !== undefined ? parseInt(VNIndex.tval).toLocaleString(\"en-US\", {style: \"decimal\",currency: \"USD\",}) : \"0\"} </div>\n          {/*prettier-ignore*/}\n          <div>\n            <a className=\"connection-circle notconnected\" id=\"connectioncircle\"></a>\n          </div>\n        </div>\n        {/*<form >*/}\n          <div>\n            <div>\n              <input\n                  className=\"stockcodeinput\"\n                  // defaultValue={Stocklist.join(\",\")}\n                  id=\"stockcodeinput\"\n                  onChange={(e) => {\n                    e.target.value = e.target.value.toUpperCase();\n                  }}\n              />\n            </div>\n            <div>\n              {/*prettier-ignore*/}\n              <button className=\"addstocktolist\" onClick={addStockToListClick}>Add Stock</button>\n            </div>\n            <div>\n              {/*prettier-ignore*/}\n              <button className=\"addstocktolist\" onClick={delStockFromListClick}>Del Stock</button>\n            </div>\n          </div>\n        {/*</form>*/}\n\n      </div>\n      {/*Link*/}\n      <div style={{ display: \"flex\", marginLeft: 10, marginBottom: 5 }}>\n        <Link to=\"/HistoryTransactions\">\n          <div style={{ marginTop: 10, marginRight: 20 }}>\n            <span className=\"Header-cartCount\">Chart</span>\n          </div>\n        </Link>\n\n        <Link to=\"/AnnualIncome\">\n          <div style={{ marginTop: 10, marginRight: 20 }}>\n            <span className=\"Header-cartCount\">Annual Income</span>\n          </div>\n        </Link>\n\n        <Link to=\"/AnnuallOutcome\">\n          <div style={{ marginTop: 10, marginRight: 20 }}>\n            <span className=\"Header-cartCount\">Annual Outcome</span>\n          </div>\n        </Link>\n\n        <Link to=\"/Version\">\n          <div style={{ marginTop: 10 }}>\n            <span className=\"Header-cartCount\">Ver</span>\n          </div>\n        </Link>\n      </div>\n      <div className=\"realtime\">{StockRows(StockItems)}</div>\n      <div className=\"jsonValue\">{NewStockValue}</div>\n      {/*prettier-ignore*/}\n      <div  className= {IsConnected ? \"alert alert-success connection-alert connected-alert text-center fadeIn\":  \"fadeOut\"}>\n        <strong>Connected!</strong>\n      </div>\n      <div>{Stocklist.join(\",\")}</div>\n    </div>\n  );\n}\n\nexport default Realtime;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport db, { StockRef } from \"./firebase\";\nimport { getCurrentDate } from \"./Functions\";\nimport { ExpectedInterest } from \"./Functions\";\n\nexport default function SellDialog(props) {\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n    // console.log(\"props\", props);\n  };\n  const handleCancel = () => {\n    setOpen(false);\n  };\n\n  function UpdateStockByID(id, stockSoldPrice, gain, gainpercent, volume) {\n    let StockQueries = StockRef.doc(id);\n    // console.log(getCurrentDate()[0]);\n    StockQueries.get()\n      .then(function (doc) {\n        if (doc.exists) {\n          // console.log(\"Document data:\", doc.data());\n          // console.log(gain, gainpercent);\n          StockQueries.update({\n            SoldPrice: stockSoldPrice,\n            DaySold: getCurrentDate()[0],\n            MonthSold: getCurrentDate()[1],\n            YearSold: getCurrentDate()[2],\n            IsSold: true,\n            Gain: gain,\n            Amount: volume,\n            Percent: gainpercent,\n          });\n        } else {\n          // doc.data() will be undefined in this case\n          console.log(\"No such document!\");\n        }\n      })\n      .catch(function (error) {\n        console.log(\"Error getting document:\", error);\n      });\n  }\n\n  const handleClose = () => {\n    setOpen(false);\n    let Soldstock = parseFloat(document.getElementById(\"StockID\").value);\n    let StockAmount = parseFloat(\n      document.getElementById(\"StockAmountID\").value\n    );\n    // console.log(Soldstock, StockAmount);\n    console.log(StockAmount);\n    // If value entered was valid\n    if (!isNaN(Soldstock)) {\n      // first : get ID of stock data\n      if (StockAmount === parseFloat(props.stockitem.Amount)) {\n        console.log(StockAmount + \";\" + props.stockitem.Amount);\n        let StockQueries = StockRef.where(\"MaCK\", \"==\", props.stockitem.MaCK)\n          .where(\"IsSold\", \"==\", false)\n          .where(\"Amount\", \"==\", props.stockitem.Amount)\n          .where(\"BoughtPrice\", \"==\", props.stockitem.BoughtPrice);\n        //   console.log(StockQueries.get);\n        StockQueries.onSnapshot((snapshot) => {\n          snapshot.docs.map((doc) => {\n            UpdateStockByID(\n              doc.id,\n              Soldstock,\n              ExpectedInterest(\n                props.stockitem.BoughtPrice,\n                Soldstock,\n                StockAmount\n              )[0],\n              ExpectedInterest(\n                props.stockitem.BoughtPrice,\n                Soldstock,\n                StockAmount\n              )[1],\n              StockAmount\n            );\n            // console.log(doc.id);\n          });\n        });\n      }\n      if (StockAmount < parseFloat(props.stockitem.Amount)) {\n        console.log(StockAmount + \";\" + props.stockitem.Amount);\n        //Add sale amount to db\n        let StockQueries = StockRef.where(\"MaCK\", \"==\", props.stockitem.MaCK)\n          .where(\"IsSold\", \"==\", false)\n          .where(\"Amount\", \"==\", props.stockitem.Amount)\n          .where(\"BoughtPrice\", \"==\", props.stockitem.BoughtPrice);\n        //   console.log(StockQueries.get);\n        StockQueries.onSnapshot((snapshot) => {\n          snapshot.docs.map((doc) => {\n            UpdateStockByID(\n              doc.id,\n              Soldstock,\n              ExpectedInterest(\n                props.stockitem.BoughtPrice,\n                Soldstock,\n                StockAmount\n              )[0],\n              ExpectedInterest(\n                props.stockitem.BoughtPrice,\n                Soldstock,\n                StockAmount\n              )[1],\n              StockAmount\n            );\n            // console.log(doc.id);\n          });\n        });\n        //add new stock buy\n        let now = new Date();\n        let NowYear = now.getFullYear();\n        db.collection(\"Stocks\" + NowYear).add({\n          MaCK: props.stockitem.MaCK,\n          SoldPrice: 0,\n          BoughtPrice: props.stockitem.BoughtPrice,\n          IsSold: false,\n          Amount: parseFloat(props.stockitem.Amount) - StockAmount,\n          Gain: 0,\n          Percent: 0,\n          DayBought: props.stockitem.DayBought,\n          MonthBought: props.stockitem.MonthBought,\n          YearBought: props.stockitem.YearBought,\n          DaySold: 0,\n          MonthSold: 0,\n          YearSold: 0,\n        });\n      }\n      if (StockAmount > parseFloat(props.stockitem.Amount)) {\n        console.log(StockAmount + \";\" + props.stockitem.Amount);\n        console.log(\"Khối lượng bán nhiều hơn mua !!! Kiểm tra lại !!!\");\n      }\n    }\n  };\n\n  return (\n    <div>\n      {/*prettier-ignore*/}\n      <Button variant=\"outlined\" style={{ fontSize: \"12px\" }} size=\"small\" onClick={handleClickOpen} > Sell  </Button>\n      {/*prettier-ignore*/}\n      <Dialog open={open} onClose={handleClose}  aria-labelledby=\"form-dialog-title\"  disableBackdropClick={true}  >\n        <DialogTitle id=\"form-dialog-title\">\n          Sell {props.stockitem.MaCK}\n        </DialogTitle>\n        <DialogContent>\n          {/*prettier-ignore*/}\n          <TextField id={\"StockID\"} autoFocus margin=\"dense\" label=\"Sell Price\" type=\"email\" fullWidth />\n          {/*prettier-ignore*/}\n          <TextField id={\"StockAmountID\"} margin=\"dense\" label=\"Volume\" defaultValue={props.stockitem.Amount} fullWidth />\n          {/*<TextField disabled id=\"standard-disabled\" label=\"Disabled\" defaultValue=\"Hello World\" />*/}\n        </DialogContent>\n        <DialogActions>\n          {/*prettier-ignore*/}\n          <Button onClick={handleCancel} color=\"primary\"> Cancel  </Button>\n          {/*prettier-ignore*/}\n          <Button onClick={handleClose} color=\"primary\"> Submit </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport \"./BuySell.css\";\nimport \"./firebase\";\nimport Switch from \"@material-ui/core/Switch\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Button from \"@material-ui/core/Button\";\nimport db from \"./firebase\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { useStateValue } from \"../StateProvider\";\nimport { getCurrentDate } from \"./Functions\";\nimport SellDialog from \"./SellDialog\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\n// prettier-ignore\nfunction BuySell() {\n  const [stocks, setStocks] = useState([]);\n  const [buystocks, setBuyStocks] = useState([]);\n  const [sellstocks, setSellStocks] = useState([]);\n  const [showbought, setShowBought] = useState(false);\n  const [{ currentstockprice }] = useStateValue();\n  const [ratiopercent, setratiopercent] = useState(\"0\");\n  const [ratiotemp, setRatiotemp] = useState({ buytemp: 0, soldtemp: 0 });\n\n  const LightTooltip = withStyles((theme) => ({\n    tooltip: {\n      backgroundColor: theme.palette.common.white,\n      color: \"rgba(0, 0, 0, 0.87)\",\n      boxShadow: theme.shadows[1],\n      fontSize: 11,\n    },\n  }))(Tooltip);\n\n  useEffect(() => {\n    // console.log(ratiotemp);\n    setratiopercent(\n      ExpectedInterest(\n        ratiotemp.buytemp,\n        ratiotemp.soldtemp,\n        1\n      )[1].toLocaleString(\"en-US\", {\n        style: \"decimal\",\n        currency: \"USD\",\n      })\n    );\n  }, [ratiotemp]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      let now = new Date();\n      let NowYear = now.getFullYear();\n      db.collection(\"Stocks\" + NowYear)\n        .orderBy(\"MonthSold\", \"desc\")\n        .orderBy(\"DaySold\", \"desc\")\n        .onSnapshot((snapshot) => {\n          setStocks(snapshot.docs.map((doc) => doc.data()));\n        });\n    };\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    const data = stocks.filter((item) => !item.IsSold);\n    setBuyStocks(data.sort((a, b) => a.MaCK.localeCompare(b.MaCK)));\n    setSellStocks(stocks.filter((item) => item.IsSold));\n  }, [stocks]);\n\n  const GainTotal = sellstocks.reduce((prev, cur) => prev + cur.Gain, 0);\n  const soldTotal = sellstocks.reduce((prev, cur) => prev + cur.BoughtPrice * cur.Amount * 1000, 0);\n  const BuyTotal = buystocks.reduce((prev, cur) => prev + cur.BoughtPrice * cur.Amount * 1000, 0);\n\n  var expectTotal = buystocks.reduce(function (prev, cur) {\n    return (\n      prev +\n      ExpectedInterest(\n        cur.BoughtPrice,\n        currentstockprice[\n          currentstockprice.findIndex((CRItem) => CRItem.sym === cur.MaCK)\n        ]?.lastPrice,\n        cur.Amount\n      )[0]\n    );\n  }, 0);\n\n  const addstockclick = (e) => {\n    e.preventDefault();\n    let now = new Date();\n    let NowYear = now.getFullYear();\n    db.collection(\"Stocks\" + NowYear).add({\n      MaCK: document.getElementById(\"StockCodeID\").value.toUpperCase(),\n      SoldPrice: 0,\n      BoughtPrice: parseFloat(document.getElementById(\"BuyPrice\").value),\n      IsSold: false,\n      Amount: parseInt(document.getElementById(\"StockAmount\").value),\n      Gain: 0,\n      Percent: 0,\n      DayBought: getCurrentDate()[0],\n      MonthBought: getCurrentDate()[1],\n      YearBought: getCurrentDate()[2],\n      DaySold: 0,\n      MonthSold: 0,\n      YearSold: 0,\n    });\n  };\n\n  function showboughtClick() {\n    setShowBought(!showbought);\n  }\n\n  function ExpectedInterest(buyprice, sellprice, Amount) {\n    let expectedprofit =\n      (parseFloat(sellprice) * 1000 - parseFloat(buyprice) * 1000) * Amount -\n      (parseFloat(buyprice) + parseFloat(sellprice)) * Amount * 2 -\n      parseFloat(sellprice) * Amount;\n\n    let expectedpercent =\n      (expectedprofit / (parseFloat(buyprice) * 10 * Amount)).toFixed(2) + \"%\";\n\n    return [\n      expectedprofit,\n      expectedpercent === \"NaN%\" ? \"0%\" : expectedpercent,\n    ];\n  }\n  // console.log(stocks);\n\n  const ShowBuyStock = (items, buysell) => (\n      items && items.map((item, index) => {\n        const currentPrice = currentstockprice.find((CRItem) => CRItem.sym === item.MaCK)?.lastPrice || 0;\n        const expectedInterest = ExpectedInterest(item.BoughtPrice, currentPrice, item.Amount);\n\n        return (\n            <div className=\"stocks\" key={index}>\n              <div>\n                <LightTooltip title={buysell ? `${item.DayBought}/${item.MonthBought}` : `${item.DaySold}/${item.MonthSold}`}>\n                  <div className=\"mack\">{item.MaCK}</div>\n                </LightTooltip>\n              </div>\n              <div className=\"buyprice\">{item.BoughtPrice}</div>\n              <div className=\"sell\">{item.IsSold ? item.SoldPrice : currentPrice}</div>\n              <div className=\"Amount\">{item.Amount.toLocaleString(\"en-US\", { style: \"decimal\", currency: \"USD\" })}</div>\n              <div className=\"lailo\">{item.IsSold ? item.Gain.toLocaleString(\"en-US\", { style: \"decimal\", currency: \"USD\" }) : expectedInterest[0].toLocaleString(\"en-US\", { style: \"decimal\", currency: \"USD\" })}</div>\n              <div className=\"tyle\">{item.IsSold ? item.Percent.toLocaleString(\"en-US\", { style: \"decimal\", currency: \"USD\" }) : expectedInterest[1]}</div>\n              {item.IsSold ? (\n                  <div className=\"datesold\" style={{ textAlign: \"right !importance\" }}>\n                    {item.DaySold}/{item.MonthSold}\n                  </div>\n              ) : (\n                  <div className=\"sellbutton\">\n                    <SellDialog stockitem={item} />\n                  </div>\n              )}\n            </div>\n        );\n      })\n  );\n\n  return (\n    <div className=\"buysell\">\n      <div className=\"addstockform\">\n        <form>\n          <div className=\"stockadd\">\n            <div>\n            <TextField\n                id=\"StockCodeID\"\n                label=\"Stock Code\"\n                style={{ marginTop: 5 }}\n                placeholder=\"0\"\n                variant=\"outlined\"\n                size=\"small\"\n                onChange={(e) => (e.target.value = e.target.value.toUpperCase())}\n            />\n            </div>\n            <div>\n            <TextField\n                id=\"StockAmount\"\n                label=\"Volume\"\n                style={{ marginTop: 5 }}\n                placeholder=\"0\"\n                variant=\"outlined\"\n                size=\"small\"\n            />\n            </div>\n            <div>\n            <TextField\n                id=\"BuyPrice\"\n                label=\"Purchase Price\"\n                style={{ marginTop: 5 }}\n                placeholder=\"0\"\n                size=\"small\"\n                variant=\"outlined\"\n            />\n            </div>\n          </div>\n          <Button\n              variant=\"outlined\"\n              style={{ marginTop: 5, fontSize: \"12px\" }}\n              size=\"small\"\n              onClick={addstockclick}\n          >\n            Add Stock\n          </Button>\n        </form>\n      </div>\n      <div className=\"buysell__title\">\n        <h2>Purchased Stocks</h2>\n        {ShowBuyStock(buystocks, true)}\n      </div>\n      <div className=\"total\">\n        <div className=\"totalitemleft\">\n          {expectTotal.toLocaleString(\"en-US\", {\n            style: \"decimal\",\n            currency: \"USD\",\n          })}\n        </div>\n        <div className=\"totalitemright\">\n          {BuyTotal.toLocaleString(\"en-US\", {\n            style: \"decimal\",\n            currency: \"USD\",\n          })}\n        </div>\n        <div className=\"totalpercent\">\n          {((expectTotal * 100) / BuyTotal).toFixed(2) + \"%\"}\n        </div>\n      </div>\n\n      <div className=\"buysell__title\">\n        <div className=\"showbought\">\n          <h2>Sold Stocks</h2>\n          <div className=\"showlable\">\n            {/*prettier-ignore*/}\n            <FormControlLabel control={<Switch checked={showbought} onChange={showboughtClick} inputProps={{ \"aria-label\": \"secondary checkbox\" }} color=\"primary\" />}/>\n          </div>\n          {/* <div className=\"minusstock1\" onClick={showboughtClick}></div> */}\n        </div>\n\n        {/*{showbought ? ShowBuyStock(sellstocks, false) : null}*/}\n        {showbought && ShowBuyStock(sellstocks, false)}\n        <div style={{ display: \"flex\" }}>\n          {/*<div className=\"total\" style={{ width: \"150px\" }}>*/}\n          <div className=\"totalitemleft\">\n            {GainTotal.toLocaleString(\"en-US\", {\n              style: \"decimal\",\n              currency: \"USD\",\n            })}\n          </div>\n          {/*<div className=\"total\" style={{ width: \"150px\" }}>*/}\n          <div className=\"totalitemright\">\n            {soldTotal.toLocaleString(\"en-US\", {\n              style: \"decimal\",\n              currency: \"USD\",\n            })}\n          </div>\n          {/*<div className=\"total\">*/}\n          <div className=\"totalpercent\">\n            {((GainTotal * 100) / soldTotal).toFixed(2) + \"%\"}\n          </div>\n        </div>\n\n        {/*prettier-ignore*/}\n        <div style={{  marginTop: 10,}}>\n          <TextField\n            id=\"BuyPriceTemp\"\n            label=\"Purchase Price\"\n            style={{ marginTop: 5, width: 130 }}\n            placeholder=\"0\"\n            // margin=\"normal\"\n            size=\"small\"\n            // InputLabelProps={{\n            //   shrink: true,\n            // }}\n            variant=\"outlined\"\n            // value={stockrecentbuy.BoughtPrice}\n            onChange={(e) =>\n                setRatiotemp({ ...ratiotemp, buytemp: parseFloat(e.target.value) })\n            }\n          />\n          <TextField\n            id=\"SoldPriceTemp\"\n            label=\"Sale Price\"\n            style={{ marginTop: 5, width: 130 }}\n            placeholder=\"0\"\n            // margin=\"normal\"\n            size=\"small\"\n            // InputLabelProps={{\n            //   shrink: true,\n            // }}\n            variant=\"outlined\"\n            // value={stockrecentbuy.BoughtPrice}\n            onChange={(e) =>\n                setRatiotemp({ ...ratiotemp, soldtemp: parseFloat(e.target.value) })\n            }\n          />\n          <TextField\n            disabled\n            id=\"RatioTemp\"\n            label=\"\"\n            style={{ marginTop: 5, width: 90 }}\n            // placeholder={{ratiopercent}!=='NaN' ? {ratiopercent} : 0}\n            placeholder={ratiopercent}\n            // placeholder={ratiopercent != NaN ? \"1\" : \"0\"}\n            // margin=\"normal\"\n            size=\"small\"\n            // InputLabelProps={{\n            //   shrink: true,\n            // }}\n            variant=\"outlined\"\n            // value={stockrecentbuy.BoughtPrice}\n            onChange={(e) => {}}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default BuySell;\n","import React from \"react\";\nimport \"./TransactionItem.css\";\n\nfunction TransactionItem(props) {\n  return (\n    <div className=\"item_border\">\n      <div className=\"date_frame\">\n        <div className=\"date_frame_day\">{props.stockitem.DaySold}</div>\n        <div className=\"date_frame_month\">{props.stockitem.MonthSold}</div>\n        <div className=\"date_frame_year\">{props.stockitem.YearSold}</div>\n      </div>\n      <div className=\"common_frame\">\n        <div className=\"common_frame_name\">Symbol</div>\n        <div className=\"common_frame_value\">{props.stockitem.MaCK}</div>\n      </div>\n      <div className=\"common_frame_Gain\">\n        <div>Gain</div>\n        <div className=\"common_frame_value\">\n          {props.stockitem.Amount.toLocaleString(\"en-US\", {\n            style: \"decimal\",\n            currency: \"USD\",\n          })}\n        </div>\n      </div>\n      <div className=\"common_frame\">\n        <div>Bought Price</div>\n        <div className=\"common_frame_value\">{props.stockitem.BoughtPrice}</div>\n      </div>\n      <div className=\"common_frame\">\n        <div>Sold Price</div>\n        <div className=\"common_frame_value\">{props.stockitem.SoldPrice}</div>\n      </div>\n      <div className=\"common_frame_gain\">\n        <div>Gain</div>\n        <div className=\"common_frame_value\">\n          {props.stockitem.SoldPrice === 0\n            ? 0\n            : props.stockitem.Gain.toLocaleString(\"en-US\", {\n                style: \"decimal\",\n                currency: \"USD\",\n              })}\n        </div>\n      </div>\n      <div className=\"common_frame_end\">\n        <div>Gain %</div>\n        <div className=\"common_frame_value\">\n          {props.stockitem.SoldPrice === 0\n            ? 0\n            : props.stockitem.Percent.toLocaleString(\"en-US\", {\n                style: \"decimal\",\n                currency: \"USD\",\n              })}\n          %\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default TransactionItem;\n","import React, { useEffect, useState } from \"react\";\nimport \"./HistoryTransactions.css\";\nimport TransactionItem from \"./TransactionItem\";\nimport db from \"./firebase\";\nimport Chart from \"./Chart/BarChart\";\nimport { Link } from \"react-router-dom\";\n// import \"./CSS/bootstrap.min.css\";\n\nfunction HistoryTransactions() {\n  const [stocks, setStocks] = useState([]);\n  const [year, setYear] = useState(\"Stocks\");\n\n  useEffect(() => {\n    console.log(year);\n    //  Get data from Firebase\n    let now = new Date();\n    let NowYear = now.getFullYear();\n    if (year === \"Stocks\") {\n      // setYear(\"Stocks\" + NowYear);\n      db.collection(\"Stocks\" + NowYear)\n        .orderBy(\"MonthSold\", \"desc\")\n        .orderBy(\"DaySold\", \"desc\")\n        .onSnapshot((snapshot) => {\n          setStocks(snapshot.docs.map((doc) => doc.data()));\n        });\n    } else {\n      db.collection(year)\n        .orderBy(\"MonthSold\", \"desc\")\n        .orderBy(\"DaySold\", \"desc\")\n        .onSnapshot((snapshot) => {\n          setStocks(snapshot.docs.map((doc) => doc.data()));\n        });\n    }\n    // console.log(year);\n\n    //  Load Data from Backup File\n    // LoadDataFromFile();\n  }, [year]);\n\n  //Create json datafile from Stocks to public folder\n  // useEffect(() => {\n  //   //  Get data from Firebase\n  //   console.log(JSON.stringify(stocks));\n  //   //  Load Data from Backup File\n  //   // LoadDataFromFile();\n  // }, [stocks]);\n\n  async function LoadDataFromFile() {\n    console.log(\"Start Add Stock from loaded file\");\n    await fetch(\"Data2020.json\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n    })\n      .then(function (response) {\n        return response.json();\n      })\n      .then(function (myJson) {\n        setStocks(myJson);\n      });\n    // console.log(stocks);\n    // for (let i = 1; i < 13; i++) {\n    //   let GainTotal = stocks.reduce(function (prev, cur) {\n    //     if ((cur.MonthSold === i) & (cur.SoldPrice > 0)) {\n    //       return prev + cur.Gain;\n    //     } else {\n    //       return prev;\n    //     }\n    //   }, 0);\n    //   tempdata.push(GainTotal);\n    // }\n    // console.log(\"Temp Data:\", tempdata);\n    // setDataState(true);\n  }\n  function GainTotalPerMonth(i) {\n    let GainTotal = stocks.reduce(function (prev, cur) {\n      if ((cur.MonthSold === i) & (cur.SoldPrice > 0)) {\n        return prev + cur.Gain;\n      } else {\n        return prev;\n      }\n    }, 0);\n    return parseInt(GainTotal);\n  }\n  let GainTotal = stocks.reduce(function (prev, cur) {\n    // console.log(cur.Gain);\n    if (cur.SoldPrice > 0) {\n      return prev + cur.Gain;\n    } else {\n      return prev;\n    }\n  }, 0);\n\n  let soldTotal = stocks.reduce(function (prev, cur) {\n    return prev + cur.BoughtPrice * cur.Amount * 1000;\n  }, 0);\n\n  const ShowBuyStock = (items) =>\n    items &&\n    items.map((item, index) => (\n      <div key={index}>\n        <TransactionItem stockitem={item} />\n      </div>\n    ));\n\n  function YearButton(year) {\n    // console.log(\"Income\" + year);\n    return (\n      <div>\n        <button className=\"YearButton\" onClick={() => setYear(\"Stocks\" + year)}>\n          {year}\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div style={{ color: \"blue\", display: \"flex\" }}>\n        <Link to=\"/\">\n          <div>\n            <span className=\"Header-cartCount\">Main</span>\n          </div>\n        </Link>\n        {YearButton(\"2024\")}\n        {YearButton(\"2023\")}\n        {YearButton(\"2022\")}\n        {YearButton(\"2021\")}\n      </div>\n      {/*prettier-ignore*/}\n      <div style={{ color: \"blue\", display: \"flex\",width: \"700px\"  }}>\n        <div className=\"Transactions\">Profit: </div>\n        {/*prettier-ignore*/}\n        <div style={{marginLeft:\"10px\",marginRight : \"10px\"}}>{GainTotal.toLocaleString(\"en-US\", {style: \"decimal\",currency: \"USD\",})}</div>\n        <div style={{marginLeft:\"10px\",marginRight : \"10px\"}}>{soldTotal.toLocaleString(\"en-US\", {style: \"decimal\",currency: \"USD\",})}</div>\n        <div style={{marginLeft:\"10px\",marginRight : \"10px\"}}>{((GainTotal * 100) / soldTotal).toFixed(2) + \"%\"}</div>\n      </div>\n      <div>\n        <Chart\n          data={[\n            GainTotalPerMonth(1),\n            GainTotalPerMonth(2),\n            GainTotalPerMonth(3),\n            GainTotalPerMonth(4),\n            GainTotalPerMonth(5),\n            GainTotalPerMonth(6),\n            GainTotalPerMonth(7),\n            GainTotalPerMonth(8),\n            GainTotalPerMonth(9),\n            GainTotalPerMonth(10),\n            GainTotalPerMonth(11),\n            GainTotalPerMonth(12),\n          ]}\n          Total={GainTotal}\n          // Total={GainTotal}\n          MainLabel=\"Gain\"\n          SubLabel=\"Gain Per Month\"\n        />\n      </div>\n\n      <div className=\"Month_all\">\n        <div className=\"Month\">\n          <div className=\"Month_text\">January :</div>\n          <div className=\"Month_value\">\n            {GainTotalPerMonth(1).toLocaleString(\"en-US\", {\n              style: \"decimal\",\n              currency: \"USD\",\n            })}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">February :</div>\n          <div className=\"Month_value\">\n            {GainTotalPerMonth(2).toLocaleString(\"en-US\", {\n              style: \"decimal\",\n              currency: \"USD\",\n            })}\n          </div>\n        </div>\n        <div className=\"Month\">\n          <div className=\"Month_text\">March :</div>\n          <div className=\"Month_value\">\n            {GainTotalPerMonth(3).toLocaleString(\"en-US\", {\n              style: \"decimal\",\n              currency: \"USD\",\n            })}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">April :</div>\n          <div className=\"Month_value\">\n            {GainTotalPerMonth(4).toLocaleString(\"en-US\", {\n              style: \"decimal\",\n              currency: \"USD\",\n            })}\n          </div>\n        </div>\n        <div className=\"Month\">\n          <div className=\"Month_text\">May :</div>\n          <div className=\"Month_value\">\n            {GainTotalPerMonth(5).toLocaleString(\"en-US\", {\n              style: \"decimal\",\n              currency: \"USD\",\n            })}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">June :</div>\n          <div className=\"Month_value\">\n            {GainTotalPerMonth(6).toLocaleString(\"en-US\", {\n              style: \"decimal\",\n              currency: \"USD\",\n            })}\n          </div>\n        </div>\n        <div className=\"Month\">\n          <div className=\"Month_text\">July :</div>\n          <div className=\"Month_value\">\n            {GainTotalPerMonth(7).toLocaleString(\"en-US\", {\n              style: \"decimal\",\n              currency: \"USD\",\n            })}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">August :</div>\n          <div className=\"Month_value\">\n            {GainTotalPerMonth(8).toLocaleString(\"en-US\", {\n              style: \"decimal\",\n              currency: \"USD\",\n            })}\n          </div>\n        </div>\n        <div className=\"Month\">\n          <div className=\"Month_text\">September :</div>\n          <div className=\"Month_value\">\n            {GainTotalPerMonth(9).toLocaleString(\"en-US\", {\n              style: \"decimal\",\n              currency: \"USD\",\n            })}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">October :</div>\n          <div className=\"Month_value\">\n            {GainTotalPerMonth(10).toLocaleString(\"en-US\", {\n              style: \"decimal\",\n              currency: \"USD\",\n            })}\n          </div>\n        </div>\n        <div className=\"Month\">\n          <div className=\"Month_text\">November :</div>\n          <div className=\"Month_value\">\n            {GainTotalPerMonth(11).toLocaleString(\"en-US\", {\n              style: \"decimal\",\n              currency: \"USD\",\n            })}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">December :</div>\n          <div className=\"Month_value\">\n            {GainTotalPerMonth(12).toLocaleString(\"en-US\", {\n              style: \"decimal\",\n              currency: \"USD\",\n            })}\n          </div>\n        </div>\n      </div>\n\n      {ShowBuyStock(stocks)}\n    </div>\n  );\n}\n\nexport default HistoryTransactions;\n","import React from \"react\";\n// import \"./StockCodeView.css\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport { useStateValue } from \"../StateProvider\";\n\nfunction StockCodeView() {\n  const [{ Stocklist }, dispatch] = useStateValue();\n  const addstockclick = (e) => {\n    e.preventDefault();\n    // console.log(\"click\");\n    dispatch({\n      type: \"ADD_STOCK_TO_LIST\",\n      item: document.getElementById(\"StockCodeIDtoList\").value.toUpperCase(),\n    });\n  };\n  const deletestockclick = (e) => {\n    // console.log(\"delete stock\");\n    dispatch({\n      type: \"DEL_STOCK_TO_LIST\",\n      item: document.getElementById(\"StockCodeIDtoList\").value.toUpperCase(),\n    });\n  };\n  return (\n    <div>\n      <div> {Stocklist.join(\",\")}</div>\n      <div>\n        <TextField\n          id=\"StockCodeIDtoList\"\n          label=\"Stock Code\"\n          style={{ marginTop: 5 }}\n          placeholder=\"0\"\n          // margin=\"dense\"\n          variant=\"outlined\"\n          size=\"small\"\n          onChange={(e) => {\n            e.target.value = e.target.value.toUpperCase();\n          }}\n        />\n        <Button\n          variant=\"outlined\"\n          style={{ marginTop: 8, marginLeft: 8, fontSize: \"12px\" }}\n          size=\"medium\"\n          onClick={addstockclick}\n        >\n          Add\n        </Button>\n        <Button\n          variant=\"outlined\"\n          style={{ marginTop: 8, marginLeft: 8, fontSize: \"12px\" }}\n          size=\"medium\"\n          onClick={deletestockclick}\n        >\n          Delete\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport default StockCodeView;\n","import React from \"react\";\nimport \"./ListItemIncome.css\";\n\nfunction ListItemIncome(props) {\n  return (\n    // prettier-ignore\n    <div className={\"incomeItemContainer\"}>\n        <div className={\"dateContainer\"}>\n          {/*prettier-ignore*/}\n          {props.IncomeItem.Day}/{props.IncomeItem.Month}/\n          {props.IncomeItem.Year}\n        </div>\n        <div className={\"incomeContainer\"}>\n          {props.IncomeItem.Income.toLocaleString(\"en-US\", {\n           style: \"decimal\",\n          currency: \"USD\",\n          })}\n        </div>\n    </div>\n  );\n}\n\nexport default ListItemIncome;\n","import React, { useEffect, useState } from \"react\";\nimport \"./AnnualIncome.css\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport CurrencyFormat from \"react-currency-format\";\nimport db from \"../firebase\";\nimport Stack from \"@mui/material/Stack\";\nimport AdapterDateFns from \"@mui/lab/AdapterDateFns\";\nimport LocalizationProvider from \"@mui/lab/LocalizationProvider\";\nimport DesktopDatePicker from \"@mui/lab/DesktopDatePicker\";\nimport Chart from \"../Chart/BarChart\";\nimport ListItemIncome from \"./ListItemIncome\";\nimport { VNCurrency } from \"../Functions\";\n\nfunction AnnualIncome() {\n  const [year, setYear] = useState(\"Income\");\n  const [dateincome, setDateIncome] = React.useState(new Date());\n  const [TotalIncomes, setTotalIncomes] = useState([]);\n  const [BeforeTotalIncomes, setBeforeTotalIncomes] = useState([]);\n  const [IsAddIncome, setIsAddIncome] = useState(false);\n  // let TotalIncome = 10000000;\n\n  let TotalIncome = TotalIncomes.reduce(function (prev, cur) {\n    return prev + cur.Income;\n  }, 0);\n\n  let BeforeTotalIncome = BeforeTotalIncomes.reduce(function (prev, cur) {\n    return prev + cur.Income;\n  }, 0);\n\n  function IncomeTotalPerMonth(i) {\n    let GainTotal = TotalIncomes.reduce(function (prev, cur) {\n      if (cur.Month === i) {\n        return prev + cur.Income;\n      } else {\n        return prev;\n      }\n    }, 0);\n    return parseInt(GainTotal);\n  }\n\n  const ShowIncome = (items) =>\n    items &&\n    items.map((item, index) => (\n      <div key={index}>\n        <div>\n          <ListItemIncome IncomeItem={item} />\n        </div>\n      </div>\n    ));\n\n  // Do at load page and each time year change\n  useEffect(() => {\n    //  Get data from Firebase\n    let now = new Date();\n    let BeforeYear = now.getFullYear() - 1;\n    if (year === \"Income\") {\n      db.collection(\"Income\" + now.getFullYear())\n        .orderBy(\"Month\", \"asc\")\n        .orderBy(\"Day\", \"asc\")\n        .onSnapshot((snapshot) => {\n          setTotalIncomes(snapshot.docs.map((doc) => doc.data()));\n        });\n    } else {\n      db.collection(year)\n        .orderBy(\"Month\", \"asc\")\n        .orderBy(\"Day\", \"asc\")\n        .onSnapshot((snapshot) => {\n          setTotalIncomes(snapshot.docs.map((doc) => doc.data()));\n        });\n      BeforeYear = parseInt(year.substr(6, 4)) - 1;\n    }\n    db.collection(\"Income\" + BeforeYear)\n      .orderBy(\"Month\", \"asc\")\n      .orderBy(\"Day\", \"asc\")\n      .onSnapshot((snapshot) => {\n        setBeforeTotalIncomes(snapshot.docs.map((doc) => doc.data()));\n      });\n  }, [year]);\n\n  useEffect(() => {\n    const now = new Date();\n    const BeforeYear = now.getFullYear() - 1;\n    // console.log(BeforeYear);\n    // console.log(\"Income\" + BeforeYear);\n    setYear(\"Income\" + now.getFullYear());\n    db.collection(\"Income\" + BeforeYear)\n      .orderBy(\"Month\", \"asc\")\n      .orderBy(\"Day\", \"asc\")\n      .onSnapshot((snapshot) => {\n        setBeforeTotalIncomes(snapshot.docs.map((doc) => doc.data()));\n      });\n    // console.log(BeforeTotalIncomes);\n  }, []);\n\n  const datehandleChange = (newValue) => {\n    setDateIncome(newValue);\n    // console.log(dateincome.getFullYear());\n  };\n\n  const addincomeclick = (e) => {\n    e.preventDefault();\n    // console.log(\n    //   parseFloat(document.getElementById(\"IncomeID\").value.replace(\",\", \".\"))\n    // );\n    // console.log(year);\n    db.collection(year).add({\n      Income: parseFloat(\n        document.getElementById(\"IncomeID\").value.replaceAll(\",\", \"\")\n      ),\n      Day: dateincome.getDate(),\n      Month: dateincome.getMonth() + 1,\n      Year: dateincome.getFullYear(),\n    });\n    setIsAddIncome(true);\n    // const timeout = setTimeout(() => {\n    //   setIsAddIncome(false);\n    //   console.log(IsAddIncome);\n    // }, 3000);\n    // console.log(dateincome.getMonth());\n  };\n\n  function YearButton(year) {\n    // console.log(\"Income\" + year);\n    return (\n      <div>\n        <button className=\"YearButton\" onClick={() => setYear(\"Income\" + year)}>\n          {year}\n        </button>\n      </div>\n    );\n  }\n\n  function IncomePerMonth() {\n    return (\n      <div className=\"Month_all\">\n        <div className=\"Month\">\n          <div className=\"Month_text\">January :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(IncomeTotalPerMonth(1))}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">February :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(IncomeTotalPerMonth(2))}\n          </div>\n        </div>\n        <div className=\"Month\">\n          <div className=\"Month_text\">March :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(IncomeTotalPerMonth(3))}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">April :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(IncomeTotalPerMonth(4))}\n          </div>\n        </div>\n        <div className=\"Month\">\n          <div className=\"Month_text\">May :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(IncomeTotalPerMonth(5))}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">June :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(IncomeTotalPerMonth(6))}\n          </div>\n        </div>\n        <div className=\"Month\">\n          <div className=\"Month_text\">July :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(IncomeTotalPerMonth(7))}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">August :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(IncomeTotalPerMonth(8))}\n          </div>\n        </div>\n        <div className=\"Month\">\n          <div className=\"Month_text\">September :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(IncomeTotalPerMonth(9))}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">October :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(IncomeTotalPerMonth(10))}\n          </div>\n        </div>\n        <div className=\"Month\">\n          <div className=\"Month_text\">November :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(IncomeTotalPerMonth(11))}\n          </div>\n          <span className=\"tab\"> </span>\n          <div className=\"Month_text\">December :</div>\n          <div className=\"Month_value\">\n            {VNCurrency(IncomeTotalPerMonth(12))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div style={{ color: \"blue\", display: \"flex\", marginLeft: 10 }}>\n        <Link to=\"/\">\n          <div>\n            <span className=\"Header-cartCount\">Main</span>\n          </div>\n        </Link>\n        {YearButton(\"2024\")}\n        {YearButton(\"2023\")}\n        {YearButton(\"2022\")}\n      </div>\n      {/*prettier-ignore*/}\n      <div style={{ color: \"blue\", display: \"flex\", width: \"700px\" ,fontWeight : \"bold\", marginLeft:\"10px\" , marginTop : \"10px\" }}>\n        <div>Total Income: </div>\n        {/*prettier-ignore*/}\n        <div style={{marginLeft:\"10px\",marginRight : \"10px\"}}>{VNCurrency(TotalIncome)} ({VNCurrency(TotalIncome/12)})</div>\n        <div style={{marginLeft:\"10px\",marginRight : \"10px\"}}>({VNCurrency(TotalIncome - BeforeTotalIncome ) })</div>\n      {/*    {\n            parseInt(TotalIncome/12).toLocaleString(\"en-US\", {style: \"decimal\",currency: \"USD\",})}*/}\n      </div>\n      {/*  Input Area*/}\n      <div className=\"input-container\">\n        <div>\n          <LocalizationProvider dateAdapter={AdapterDateFns}>\n            <Stack spacing={3}>\n              <DesktopDatePicker\n                label=\"Date Income\"\n                inputFormat=\"MM/dd/yyyy\"\n                value={dateincome}\n                onChange={datehandleChange}\n                renderInput={(params) => <TextField {...params} />}\n              />\n            </Stack>\n          </LocalizationProvider>\n        </div>\n\n        <CurrencyFormat\n          id=\"IncomeID\"\n          label=\"Income\"\n          customInput={TextField}\n          thousandSeparator\n          prefix=\"\"\n          style={{ marginTop: 10, fontSize: \"12px\", marginLeft: 10 }}\n          // decimalScale={0}\n          variant=\"outlined\"\n          size=\"small\"\n          // onChange={handleNewAmount}\n        />\n        <Button\n          variant=\"outlined\"\n          style={{ marginTop: 10, fontSize: \"12px\", marginLeft: 10 }}\n          size=\"small\"\n          onClick={addincomeclick}\n        >\n          Add Income\n        </Button>\n      </div>\n      {/*Chart income per month*/}\n      <div>\n        <Chart\n          data={[\n            IncomeTotalPerMonth(1),\n            IncomeTotalPerMonth(2),\n            IncomeTotalPerMonth(3),\n            IncomeTotalPerMonth(4),\n            IncomeTotalPerMonth(5),\n            IncomeTotalPerMonth(6),\n            IncomeTotalPerMonth(7),\n            IncomeTotalPerMonth(8),\n            IncomeTotalPerMonth(9),\n            IncomeTotalPerMonth(10),\n            IncomeTotalPerMonth(11),\n            IncomeTotalPerMonth(12),\n          ]}\n          // Total={TotalIncome}\n          Total={TotalIncome / 12}\n          MainLabel=\"Total Income\"\n          SubLabel=\"Income Per Month\"\n        />\n      </div>\n      {/*  List Income per month*/}\n      <div style={{ marginLeft: \"10px\", marginBottom: \"10px\" }}>\n        {IncomePerMonth()}\n      </div>\n      {/*    List all Income*/}\n      <div className=\"anualIncomeCard\">{ShowIncome(TotalIncomes)}</div>\n      {/*prettier-ignore*/}\n      <div  className= {IsAddIncome ? \"alert alert-success connection-alert connected-alert text-center fadeIn\":  \"fadeOut\"}>\n            <strong>Added!</strong>\n        </div>\n    </div>\n  );\n}\n\nexport default AnnualIncome;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Version() {\n  return (\n      <div>\n          <Link to=\"/\">\n              <div>\n                  <span className=\"Header-cartCount\">Main</span>\n              </div>\n          </Link>\n          <div style={{color: \"blue\", display: \"flex\", marginLeft: 10}}>\n              <h1> Version: 1.0.2</h1>\n          </div>\n          <div style={{display: \"flex\", marginLeft: 10}}>\n              <h2>Date Change: 04/03/2024</h2>\n          </div>\n          <div style={{display: \"flex\", marginLeft: 10}}>\n              Change log: Fix Chart Stocks.\n          </div>\n          <div style={{color: \"blue\", display: \"flex\", marginLeft: 10}}>\n              <h1> Version: 1.0.1</h1>\n          </div>\n          <div style={{display: \"flex\", marginLeft: 10}}>\n              <h2>Date Change: 28/02/2024</h2>\n          </div>\n          <div style={{display: \"flex\", marginLeft: 10}}>\n              Change log: Fix Sell Stocks.\n          </div>\n          <div style={{color: \"blue\", display: \"flex\", marginLeft: 10}}>\n              <h1> Version: 1.0.2</h1>\n          </div>\n          <div style={{display: \"flex\", marginLeft: 10}}>\n              <h2>Date Change: 14/06/2024</h2>\n          </div>\n          <div style={{display: \"flex\", marginLeft: 10}}>\n              Change log: Code standardization using ChatGPT !!!\n          </div>\n          <div style={{color: \"blue\", display: \"flex\", marginLeft: 10}}>\n              <h1> Version: 1.0.3</h1>\n          </div>\n          <div style={{display: \"flex\", marginLeft: 10}}>\n              <h2>Date Change: 18/12/2024</h2>\n          </div>\n          <div style={{display: \"flex\", marginLeft: 10}}>\n              Change log: Add Outcome Function !!!\n          </div>\n      </div>\n  );\n}\n\nexport default Version;\n","import \"./App.css\";\nimport Realtime from \"./Components/Realtime\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport BuySell from \"./Components/BuySell\";\nimport HistoryTransactions from \"./Components/HistoryTransactions\";\nimport VnIndexChart from \"./Components/VNIndexChart\";\nimport StockCodeView from \"./Components/StockCodeView\";\n// import ReactSession from \"./Components/Utils/ReactSession\";\nimport AnnualIncome from \"./Components/AnnualIncome/AnnualIncome\";\nimport AnnuallOutcome from \"./Components/AnuallOutcome/AnnuallOutcome\";\nimport Version from \"./Components/Version\";\n\n// import \"bootstrap/dist/css/bootstrap.min.css\";\n\n//https://bgapidatafeed.vps.com.vn/getliststockdata/DXG,VGT,TCM\n//wss://bgdatafeed.vps.com.vn/socket.io\n//var socketLink = 'https://bgdatafeed.vps.com.vn/';\n\nfunction App() {\n  // ReactSession.setStoreType(\"localStorage\");\n  // ReactSession.set(\"Stock_List\", [\"DIG\", \"VPH\", \"CTI\", \"CEO\", \"LDG\", \"IDG\"]);\n  return (\n    <div className=\"App\">\n      <Router>\n        <div className=\"app\">\n          <Switch>\n            <Route path=\"/StockManager\">{<Realtime />}</Route>\n            <Route path=\"/VnIndexChart\">{<VnIndexChart />}</Route>\n            <Route path=\"/HistoryTransactions\">{<HistoryTransactions />}</Route>\n            <Route path=\"/CodeView\">{<StockCodeView />}</Route>\n            <Route path=\"/AnnualIncome\">{<AnnualIncome />}</Route>\n            <Route path=\"/AnnuallOutcome\">{<AnnuallOutcome />}</Route>\n            <Route path=\"/Version\">{<Version />}</Route>\n            <Route path=\"/\">\n              <Realtime />\n              <BuySell />\n            </Route>\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import io from \"socket.io-client\";\n\nexport const initialState = {\n  basket: [\"hungtd\", \"tdhung\"],\n  user: null,\n  currentstockprice: [],\n  // Stocklist: [\"TCM\",\"PVT, \"HPG\", \"CTG\", \"BID\", \"DXG\"],\n  // hoseindex: [],\n  socket: io(\"https://bgdatafeed.vps.com.vn/\"),\n};\n\n// Selector\n// export const getBasketTotal = (basket) =>\n//   basket?.reduce((Gain, item) => item.price + Gain, 0);\n\nconst reducer = (state, action) => {\n  // console.log(action);\n  // let IsStockexit = false;\n  let index;\n  switch (action.type) {\n    case \"ADD_STOCK_TO_LIST\":\n      index = state.Stocklist.findIndex(\n        (StocklistItem) => StocklistItem === action.item\n      );\n      // console.log(tempindex);\n      if (index >= 0) {\n        return {\n          ...state,\n          Stocklist: [...state.Stocklist],\n        };\n      } else {\n        return {\n          ...state,\n          Stocklist: [...state.Stocklist, action.item],\n        };\n      }\n    case \"DEL_STOCK_TO_LIST\":\n      let newStocklist = [...state.Stocklist];\n      index = newStocklist.indexOf(action.item);\n      // console.log(index);\n      // console.log(newStocklist);\n      if (index === -1) {\n        return {\n          ...state,\n          Stocklist: [...state.Stocklist],\n        };\n      } else {\n        newStocklist.splice(index, 1);\n        // console.log(newStocklist);\n        return {\n          ...state,\n          Stocklist: newStocklist,\n        };\n      }\n    // console.log(currentstockprice);\n    case \"UPDATE_TO_CURRENTSTOCKPRICE\":\n      index = state.currentstockprice.findIndex(\n        (currentstockpriceItem) => currentstockpriceItem.sym === action.item.sym\n      );\n      let newcurrentstockprice = [...state.currentstockprice];\n\n      if (index >= 0) {\n        // newBasket.splice(index, 1);\n        // console.warn(newcurrentstockprice[index].lastPrice);\n        newcurrentstockprice[index].lastPrice = action.item.lastPrice;\n        // console.warn(newcurrentstockprice[index].mat);\n      } else {\n        //khong co can add them\n        newcurrentstockprice = [...state.currentstockprice, action.item];\n      }\n\n      return {\n        ...state,\n        currentstockprice: newcurrentstockprice,\n      };\n\n    // case \"SET_STOCK_INDEX\":\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport reducer, { initialState } from \"./reducer\";\nimport { StateProvider } from \"./StateProvider\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}